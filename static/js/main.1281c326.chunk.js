(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){},22:function(e,t,n){},31:function(e,t,n){e.exports=n(79)},36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},46:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},57:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},70:function(e,t,n){},72:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a,r,c,o,l,s,i,u,d=n(0),m=n.n(d),p=n(23),f=n.n(p),h=(n(36),n(3)),v=n(4),g=n(6),E=n(5),b=n(7),y=(n(38),n(84)),O=n(81),N=n(82),j=n(83),C=(n(40),function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"content"},m.a.createElement("h1",null,"Requirements"),m.a.createElement("div",{className:"doc"},m.a.createElement("p",null,"This application requires a browser that support the ",m.a.createElement("a",{href:"http://webaudio.github.io/web-midi-api/",target:"_blank",rel:"noopener noreferrer"},"Web MIDI API"),"."),m.a.createElement("p",null,"Currently, only ",m.a.createElement("span",{className:"strong"},"Chrome")," and ",m.a.createElement("span",{className:"strong"},"Opera")," support this standard. This application will therefore ",m.a.createElement("span",{className:"italic"},"not")," work in Firefox, Safari, IE or Edge.")),m.a.createElement("h1",null,"Limitations"),m.a.createElement("div",{className:"doc"},m.a.createElement("p",null,"The current version of this editor isn't able to edit the Global configuration of the Pacer."),m.a.createElement("p",null,"This editor does not offer patches management either.")),m.a.createElement("h1",null,"MIDI in your browser"),m.a.createElement("div",{className:"doc"},m.a.createElement("div",null,m.a.createElement("p",null,"You need to allow your browser to use your MIDI device:"),m.a.createElement("img",{src:"help-01.png",alt:""})),m.a.createElement("div",null,m.a.createElement("p",null,"In case you didn't allow the use of MIDI device and want to change that, you can right-click on the URL icon and change the setting:"),m.a.createElement("img",{src:"help-02.png",alt:""}))),m.a.createElement("h1",null,"FAQ"),m.a.createElement("div",{className:"doc"},m.a.createElement("p",null,m.a.createElement("i",null,"To be completed..."))),m.a.createElement("h1",null,"Contribute"),m.a.createElement("div",{className:"doc"},m.a.createElement("p",null,"This editor is an Open Source project. You are welcome to contribute."),m.a.createElement("p",null,"The source-code is hosted by GitHub: ",m.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"pacer-editor")),m.a.createElement("p",null,"To contribute your bug fixes, new features, etc.: 1) fork the project, 2) create a pull-request.")),m.a.createElement("h1",null,"Thanks"),m.a.createElement("div",{className:"doc"},"Thank you to the Nektar support service for having provided precious informations regarding the SysEx data format of the Pacer. This editor would not have been possible without their support."))}}]),t}(d.Component)),k=n(1),I=n(24),w=function(e){return null===e||void 0===e?"":function(e,t,n){for(var a="",r=n||"0",c=(t||2)-e.length;a.length<c;)a+=r;return a+e}(e.toString(16).toUpperCase(),2)},S=function(e){return null===e||void 0===e?"":Array.from(e).map(function(e){return w(e)}).join(" ")},P=function(e,t){var n=t?e.replace(t,""):e;if(n.length%2>0)return null;if(0===n.length)return null;for(var a=new Uint8Array(n.length/2),r=0;r<n.length/2;r++)a[r]=parseInt(n.substr(2*r,2),16);return a};function M(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({key:n,value:e[n]});return t.sort(function(e,t){return e.value.localeCompare(t.value)}),t}var x=[0,1,119],D=[127],A=1,_=2,R=1,B=(a={},Object(k.a)(a,R,"preset"),Object(k.a)(a,5,"global"),Object(k.a)(a,7,"full backup"),a),T=1,F=13,L=18,U=20,G=27,W=54,H=55,V=126,z=(r={},Object(k.a)(r,T,"name"),Object(k.a)(r,F,"1"),Object(k.a)(r,14,"2"),Object(k.a)(r,15,"3"),Object(k.a)(r,16,"4"),Object(k.a)(r,17,"5"),Object(k.a)(r,L,"6"),Object(k.a)(r,19,"RESERVED"),Object(k.a)(r,U,"A"),Object(k.a)(r,21,"B"),Object(k.a)(r,22,"C"),Object(k.a)(r,23,"D"),Object(k.a)(r,24,"FS 1"),Object(k.a)(r,25,"FS 2"),Object(k.a)(r,26,"FS 3"),Object(k.a)(r,G,"FS 4"),Object(k.a)(r,W,"EXP 1"),Object(k.a)(r,H,"EXP 2"),Object(k.a)(r,V,"MIDI configuration"),Object(k.a)(r,127,"ALL"),r),Y=[20,21,22,23],q=[13,14,15,16,17,18],J=[24,25,26,27],K=[54,55],X=97,Q=(c={},Object(k.a)(c,0,"CC"),Object(k.a)(c,3,"NRPN C"),Object(k.a)(c,4,"NRPN F"),Object(k.a)(c,1,"PITCH"),Object(k.a)(c,2,"AT CHAN"),Object(k.a)(c,126,"DAW FUNC"),Object(k.a)(c,X,"CTRL_OFF"),Object(k.a)(c,71,"CC TOGGLE"),Object(k.a)(c,64,"CC"),Object(k.a)(c,72,"CC STEP"),Object(k.a)(c,67,"NOTE"),Object(k.a)(c,68,"NOTE TOGGLE"),Object(k.a)(c,69,"PRG BANK"),Object(k.a)(c,70,"PRG STEP"),Object(k.a)(c,87,"NRPN COARSE"),Object(k.a)(c,88,"NRPN FINE"),Object(k.a)(c,85,"MMC"),Object(k.a)(c,89,"RELAY"),Object(k.a)(c,98,"PRESET SELECT"),Object(k.a)(c,86,"PRESET INC DEC"),Object(k.a)(c,99,"STEP SELECT"),Object(k.a)(c,100,"STEP INC DEC"),Object(k.a)(c,18,"CC"),Object(k.a)(c,17,"CC REL"),Object(k.a)(c,21,"NRPN C"),Object(k.a)(c,22,"NRPN F"),Object(k.a)(c,19,"PITCH"),Object(k.a)(c,20,"AT CHAN"),Object(k.a)(c,16,"PRG"),Object(k.a)(c,23,"PRESET SEL"),Object(k.a)(c,24,"STEP SEL"),Object(k.a)(c,101,"CC"),c),$=(o={},Object(k.a)(o,X,"OFF"),Object(k.a)(o,71,"CC Toggle"),Object(k.a)(o,64,"CC Trigger"),Object(k.a)(o,72,"CC Step"),Object(k.a)(o,67,"Note"),Object(k.a)(o,68,"Note Toggle"),Object(k.a)(o,69,"Program & Bank"),Object(k.a)(o,70,"Program Step"),Object(k.a)(o,87,"NRPN Coarse"),Object(k.a)(o,88,"NRPN Fine"),Object(k.a)(o,85,"MIDI Machine Control"),Object(k.a)(o,89,"Relay Outputs"),Object(k.a)(o,98,"Preset Select"),Object(k.a)(o,86,"Preset Inc/Dec"),Object(k.a)(o,99,"Step Select"),Object(k.a)(o,100,"Step Inc/Dec"),o),Z=M($),ee=(l={},Object(k.a)(l,X,"OFF"),Object(k.a)(l,18,"CC"),Object(k.a)(l,17,"CC REL"),Object(k.a)(l,21,"NRPN Coarse"),Object(k.a)(l,22,"NRPN Fine"),Object(k.a)(l,19,"Pitch Bend"),Object(k.a)(l,20,"AT Chan."),Object(k.a)(l,16,"Program"),Object(k.a)(l,23,"Preset Sel"),Object(k.a)(l,24,"Step Sel"),M((s={},Object(k.a)(s,101,"Load CC"),Object(k.a)(s,67,"MIDI Note"),Object(k.a)(s,69,"Program & Bank"),Object(k.a)(s,87,"NRPN Coarse"),Object(k.a)(s,88,"NRPN Fine"),Object(k.a)(s,85,"MIDI Machine Control"),Object(k.a)(s,89,"Relay Outputs"),Object(k.a)(s,126,"DAW Func."),Object(k.a)(s,X,"OFF"),s))),te=(i={},Object(k.a)(i,0,["","",""]),Object(k.a)(i,3,["","",""]),Object(k.a)(i,4,["","",""]),Object(k.a)(i,1,["","",""]),Object(k.a)(i,2,["","",""]),Object(k.a)(i,126,["function","not used","not used"]),Object(k.a)(i,X,["","",""]),Object(k.a)(i,71,["controller","value 1","value 2"]),Object(k.a)(i,64,["controller","down","up"]),Object(k.a)(i,72,["controller","start","end"]),Object(k.a)(i,67,["note","velocity","not used"]),Object(k.a)(i,68,["note","velocity","not used"]),Object(k.a)(i,69,["program","bank LSB","bank MSB"]),Object(k.a)(i,70,["not used","start","end"]),Object(k.a)(i,87,["value","NRPN LSB","NRPN MSB"]),Object(k.a)(i,88,["value","NRPN LSB","NRPN MSB"]),Object(k.a)(i,85,["device","command","not used"]),Object(k.a)(i,89,["mode","relay #","not used"]),Object(k.a)(i,98,["preset","not used","not used"]),Object(k.a)(i,86,["inc/dec","not used","not used"]),Object(k.a)(i,99,["target","step","not used"]),Object(k.a)(i,100,["target","inc/dec","not used"]),Object(k.a)(i,18,["","",""]),Object(k.a)(i,17,["","",""]),Object(k.a)(i,21,["","",""]),Object(k.a)(i,22,["","",""]),Object(k.a)(i,19,["","",""]),Object(k.a)(i,20,["","",""]),Object(k.a)(i,16,["","",""]),Object(k.a)(i,23,["","",""]),Object(k.a)(i,24,["","",""]),Object(k.a)(i,101,["controller","value","not used"]),i),ne={0:"Off",1:"1A Pink",2:"1B Dim Pink",3:"2A Red",4:"2B Dim Red",5:"3A Orange",6:"3B Dim Orange",7:"4A Amber",8:"4B Dim Amber",9:"5A Yellow",10:"5B Dim Yellow",11:"6A Lime",12:"6B Dim Lime",13:"7A Green",14:"7B Dim Green",15:"8A Teal",16:"8B Dim Teal",17:"9A Blue",18:"9B Dim Blue",19:"10A Lavender",20:"10B Dim Lavender",21:"11A Purple",22:"11B Dim Purple",23:"12A White",24:"12B Dim White"},ae=96,re=(u={},Object(k.a)(u,0,"All"),Object(k.a)(u,1,"External Step Select"),Object(k.a)(u,2,"Sequence"),u);function ce(e){return null===e||void 0===e||0===e.length?128:128-Uint8Array.from(e).reduce(function(e,t){return e+t})%128}function oe(e){var t=[_,R,e],n=ce(t);return t.push(n),D.concat(t)}function le(e,t){var n=[_,R,e,t],a=ce(n);return n.push(a),D.concat(n)}var se=240,ie=247,ue=4,de=5,me=6,pe=7,fe=8;function he(e){return e&&"object"===typeof e&&!Array.isArray(e)}function ve(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;var r=n.shift();if(he(e)&&he(r))for(var c in r)he(r[c])?(e[c]||Object.assign(e,Object(k.a)({},c,{})),ve(e[c],r[c])):Object.assign(e,Object(k.a)({},c,r[c]));return ve.apply(void 0,[e].concat(n))}function ge(e){return e[0]===se&&e[e.byteLength-1]===ie}function Ee(e){var t,n={},a=e[ue],r=e[de],c=e[me],o=e[pe];switch(a){case A:case _:break;default:return console.warn("parseSysexMessage: invalid command (".concat(w(a),")")),null}if(!(r in B))return console.warn("parseSysexMessage: invalid target",w(r),r,B),null;if(n[r]={},c>=25&&c<=126&&console.warn("parseSysexMessage: invalid/ignored idx",c),n[r][c]={},!(o in z))return console.warn("parseSysexMessage: invalid/ignored object",w(o)),null;if(o===T)t="name";else if(o>=F&&o<=L||o>=U&&o<=G||o>=W&&o<=H)t="control";else{if(o!==V)return console.warn("parseSysexMessage: invalid obj",o),null;t="midi"}if("name"===t&&(n[r][c].name=function(e){console.log("getPresetName",S(e));var t=e[1];return String.fromCharCode.apply(null,e.slice(2,2+t))}(e.slice(fe))),"control"===t){n[r][c].controls=Object(k.a)({},o,{steps:{}});var l=e[fe];if(l>=1&&l<=36)if(e.length>fe+22){var s=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]],active:e[22]}}}(e.slice(fe,fe+23));n[r][c].controls[o].steps[s.index]=s.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),S(e));else if(l===ae){var i=function(e){return{control_mode:e[1]}}(e.slice(fe,e.length-1));n[r][c].controls[o]=ve(n[r][c].controls[o],i)}else if(l>=64&&l<=87){var u=function(e){for(var t,n,a,r={steps:{}},c=0;c<e.length;){var o=e[c];switch(0===c&&(a=""+((o-64)/4+1)),a in r.steps||(r.steps[a]={}),o){case 64:case 68:case 72:case 76:case 80:case 84:t=e[++c],c++,n=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[a].led_midi_ctrl=n;break;case 65:case 69:case 73:case 77:case 81:case 85:t=e[++c],c++,n=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[a].led_active_color=n;break;case 66:case 70:case 74:case 78:case 82:case 86:t=e[++c],c++,n=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[a].led_inactive_color=n;break;case 67:case 71:case 75:case 79:case 83:case 87:t=e[++c],c++,n=1===t?e[c]:Array.from(e.slice(c,c+t)),c+=t,r.steps[a].led_num=n;break;case 127:c=e.length;break;default:c++}}return r}(e.slice(fe,e.length-1));n[r][c].controls[o]=ve(n[r][c].controls[o],u)}else if(127!==l)return console.warn("parseSysexMessage: unknown element: ".concat(w(l))),null}if("midi"===t){n[r][c].midi={};var d=e[fe];if(!(d>=1&&d<=96))return console.warn("parseSysexMessage: unknown element: ".concat(w(d))),null;if(e.length>fe+19){var m=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]]}}}(e.slice(fe,fe+20));n[r][c].midi[m.index]=m.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),S(e))}return n}function be(e){if(null===e)return null;for(var t={},n=0;!((n=e.indexOf(se,n))<0);){n++;var a=e.indexOf(ie,n),r=Array.from(e.slice(n,n+3)).map(function(e){return w(e)}).join(" ");if(r!==I.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: file does not contain a Nektar Pacer patch",n,a,r,"-",S(e)),null;if(127!==e[n+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[n+1+3])),null;var c=Ee(e.slice(n,a));c&&ve(t,c)}return t}function ye(e,t,n){var a=function(e,t,n){for(var a=[],r=Object.keys(n),c=0;c<r.length;c++){var o=r[c],l=n[o];if(l.changed){var s=[A,R,e,t];s.push(6*(o-1)+1,1,l.channel,0),s.push(6*(o-1)+2,1,l.msg_type,0),s.push(6*(o-1)+3,1,l.data[0],0),s.push(6*(o-1)+4,1,l.data[1],0),s.push(6*(o-1)+5,1,l.data[2],0),s.push(6*(o-1)+6,1,l.active),s.push(ce(s)),a.push(D.concat(s))}}return a}(e,t,n[R][e].controls[t].steps);return n[R][e].controls[t].changed&&a.push(function(e,t,n){var a=[A,R,e,t,ae,1,n];return a.push(ce(a)),D.concat(a)}(e,t,n[R][e].controls[t].control_mode)),a}function Oe(e,t){return function(e,t){for(var n=[],a=Object.keys(t),r=0;r<a.length;r++){var c=a[r],o=t[c];if(o.changed){var l=[A,R,e,V];l.push(6*(c-1)+1,1,o.channel,0),l.push(6*(c-1)+2,1,o.msg_type,0),l.push(6*(c-1)+3,1,o.data[0],0),l.push(6*(c-1)+4,1,o.data[1],0),l.push(6*(c-1)+5,1,o.data[2],0),l.push(6*(c-1)+6,1,o.active),l.push(ce(l)),n.push(D.concat(l))}}return n}(e,t[R][e].midi)}var Ne=n(10),je=n.n(Ne);function Ce(e){var t=je.a.inputs.find(function(t){return t.id===e});return t||je.a.outputs.find(function(t){return t.id===e})}function ke(e){return je.a.inputs.find(function(t){return t.id===e})}function Ie(e){return je.a.outputs.find(function(t){return t.id===e})}function we(e){var t=ke(e);return t?t.name:null}function Se(e){var t=Ie(e);return t?t.name:null}n(42);var Pe=n(8),Me=(n(21),n(14)),xe=function(e){var t=e.settings;return null===t||void 0===t?null:m.a.createElement("div",{className:"dump-control"},m.a.createElement("table",null,m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:6,className:"name"},"MIDI settings")),Object.keys(t).map(function(e){var n=Q[t[e].msg_type];return 67===t[e].msg_type&&(n=n+" "+Me.a(t[e].data[0],!0)+" vel. "+t[e].data[1]),m.a.createElement("tr",{key:e},m.a.createElement("td",null,"settings ",e),m.a.createElement("td",null,"ch. ",w(t[e].channel)),m.a.createElement("td",null,"msg ",w(t[e].msg_type)),m.a.createElement("td",null,n),m.a.createElement("td",null,S(t[e].data)),m.a.createElement("td",null,t[e].active?"active":"OFF"))}))))},De=function(e){var t=e.settings;return null===t?null:m.a.createElement("div",null,m.a.createElement(xe,{settings:t}))},Ae=function(e){var t=e.obj,n=e.config;return null===n||void 0===n?null:m.a.createElement("div",{className:"dump-control"},m.a.createElement("table",null,m.a.createElement("tbody",null,m.a.createElement("tr",null,m.a.createElement("td",{colSpan:6,className:"name"},z[t])),Object.keys(n.steps).map(function(e){var a=Q[n.steps[e].msg_type];return 67===n.steps[e].msg_type&&(a=a+" "+Me.a(n.steps[e].data[0],!0)+" vel. "+n.steps[e].data[1]),m.a.createElement("tr",{key:"".concat(t,".").concat(e)},m.a.createElement("td",null,"step ",e),m.a.createElement("td",null,"ch. ",w(n.steps[e].channel)),m.a.createElement("td",null,"msg ",w(n.steps[e].msg_type)),m.a.createElement("td",null,a),m.a.createElement("td",null,S(n.steps[e].data)),m.a.createElement("td",null,n.steps[e].active?"active":"OFF"))}))))},_e=function(e){var t=e.controls;return null===t||void 0===t?null:m.a.createElement("div",{className:"dump-controls"},Object.keys(t).map(function(e){return m.a.createElement(Ae,{key:e,obj:e,config:t[e]})}))},Re=function(e){var t=e.index,n=e.data;return null===n||void 0===n?null:m.a.createElement("div",null,m.a.createElement("h2",null,"Preset ",function(e){var t=Math.floor((e-1)/6),n=(e-1)%6+1;return String.fromCharCode(t+65)+n.toString()}(parseInt(t,10))," (#",t,")"),m.a.createElement(_e,{controls:n.controls}),m.a.createElement(De,{settings:n.midi}))},Be=function(e){var t=e.presets;return null===t||void 0===t?null:m.a.createElement("div",null,Object.keys(t).map(function(e){return m.a.createElement(Re,{key:e,index:e,data:t[e]})}))},Te=function(e){var t=e.data;return m.a.createElement("div",{className:"dump code"},t&&m.a.createElement(Be,{presets:t[R]}))},Fe=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={inputs:[],outputs:[],input:null,output:null},n.connectInput=function(e){n.props.onMidiInputEvent&&e&&(e.hasListener("midimessage","all",n.props.onMidiInputEvent)?console.warn("Midi.connectInput: sysex messages on all channels listener already connected"):(console.log("Midi.connectInput: add listener for sysex messages on all channels"),e.addListener("midimessage","all",n.props.onMidiInputEvent),n.props.onInputConnection&&n.props.onInputConnection(e.id)))},n.disconnectInput=function(e){e&&(e.removeListener(),console.log("disconnectInput: input ".concat(e.id," disconnected")),n.props.onInputDisconnection&&n.props.onInputDisconnection(e.id))},n.connectOutput=function(e){e&&(n.setState({output:e.id}),console.log("connectOutput: output ".concat(e.id," connected")),n.props.onOutputConnection&&n.props.onOutputConnection(e.id))},n.disconnectOutput=function(){if(n.state.output){var e=n.state.output;n.setState({output:null}),console.log("disconnectOutput: output ".concat(e," disconnected")),n.props.onOutputDisconnection&&n.props.onOutputDisconnection(e)}},n.autoConnectInput=function(){if(n.props.autoConnect)if(console.log("Midi.autoConnectInput: autoConnect ".concat(n.props.autoConnect),n.state.inputs),null===n.state.input){var e=!0,t=!1,a=void 0;try{for(var r,c=n.state.inputs[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var o=r.value;if(console.log("Midi.autoConnectInput: port ".concat(o.name," ").concat(o.id)),"input"===o.type&&o.name.match(new RegExp(n.props.autoConnect,"i"))){console.log("Midi.autoConnectInput: connect ".concat(o.name)),n.setState({input:o.id}),n.connectInput(o);break}}}catch(l){t=!0,a=l}finally{try{e||null==c.return||c.return()}finally{if(t)throw a}}}else console.log("Midi.autoConnectInput: autoConnect skipped, already connected")},n.autoConnectOutput=function(){if(n.props.autoConnect)if(console.log("Midi.autoConnectOutput: autoConnect ".concat(n.props.autoConnect)),null===n.state.output){var e=!0,t=!1,a=void 0;try{for(var r,c=n.state.outputs[Symbol.iterator]();!(e=(r=c.next()).done);e=!0){var o=r.value;if(console.log("Midi.autoConnectOutput: port ".concat(o.name," ").concat(o.id)),"output"===o.type&&o.name.match(new RegExp(n.props.autoConnect,"i"))){console.log("Midi.autoConnectOutput: autoConnect: auto-connect ".concat(o.name)),n.connectOutput(o);break}}}catch(l){t=!0,a=l}finally{try{e||null==c.return||c.return()}finally{if(t)throw a}}}else console.log("Midi.autoConnectOutput: autoConnect skipped, already connected")},n.registerInputs=function(){var e=new RegExp(n.props.only,"i");console.log("Midi.registerInputs matching /".concat(n.props.only,"/i"),Ne.inputs,Ne.inputs.filter(function(t){return t.name.match(e)})),n.setState({inputs:Ne.inputs.filter(function(t){return t.name.match(e)})},function(){return n.autoConnectInput()})},n.registerOutputs=function(){var e=new RegExp(n.props.only,"i");console.log("Midi.registerOutputs matching /".concat(n.props.only,"/i"),Ne.outputs,Ne.outputs.filter(function(t){return t.name.match(e)})),n.setState({outputs:Ne.outputs.filter(function(t){return t.name.match(e)})},function(){return n.autoConnectOutput()})},n.unRegisterInputs=function(){console.log("Midi.unRegisterInputs"),n.disconnectInput(Ce(n.state.input)),n.setState({inputs:[],input:null})},n.unRegisterOutputs=function(){console.log("Midi.unRegisterOutputs"),n.setState({outputs:[],output:null})},n.handleMidiConnectEvent=function(e){console.group("Midi: handleMidiConnectEvent: ".concat(e.port.type," ").concat(e.type,": ").concat(e.port.name),e),e.port.name.match(new RegExp(n.props.only,"i"))?("input"===e.port.type&&(console.log("Midi.handleMidiConnectEvent: call registerInputs"),n.registerInputs()),"output"===e.port.type&&(console.log("Midi.handleMidiConnectEvent: call registerOutputs"),n.registerOutputs())):console.log("Midi.handleMidiConnectEvent: port ignored: ".concat(e.port.name)),console.groupEnd()},n.togglePort=function(e){if("input"===Ce(e).type){console.log("toggle input",e);var t=n.state.input;n.state.input&&n.disconnectInput(Ce(n.state.input)),e!==t&&n.connectInput(ke(e)),n.setState({input:e===t?null:e})}else console.log("toggle output",e),n.state.output?n.disconnectOutput():n.connectOutput(Ce(e))},n.midiOn=function(e){e?console.warn("Midi.midiOn: WebMidi could not be enabled.",e):(console.log("Midi.midiOn: WebMidi enabled"),Ne.addListener("connected",n.handleMidiConnectEvent),Ne.addListener("disconnected",n.handleMidiConnectEvent))},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"componentDidMount",value:function(){console.log("Midi: component did mount: WebMidi.enabled=".concat(Ne.enabled)),Ne.enabled?(console.log("Midi: component did mount: already enabled, register ports"),this.registerInputs(),this.registerOutputs()):(console.log("Midi: component did mount: Calling WebMidi.enable"),Ne.enable(this.midiOn,!0))}},{key:"componentWillUnmount",value:function(){console.log("Midi: component will unmount: unregister ports"),this.unRegisterInputs(),this.unRegisterOutputs()}},{key:"render",value:function(){var e=this,t=this.state,n=t.inputs,a=t.outputs;return 0===n.length&&0===a.length?m.a.createElement("div",{className:this.props.className},this.props.children):m.a.createElement("div",{className:this.props.className},n.map(function(t){return e.props.inputRenderer(t,t.id===e.state.input,e.togglePort)}),a.map(function(t){return e.props.outputRenderer(t,t.id===e.state.output,e.togglePort)}))}}]),t}(d.Component);Fe.defaultProps={classname:"",only:".*"};n(46);var Le=n(25),Ue=n.n(Le),Ge=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.port,t=this.props.selected,n=this.props.clickHandler;return m.a.createElement("div",{key:e.id,className:t?"port ".concat(e.type," enabled"):"port ".concat(e.type)},m.a.createElement("div",{className:"port-type"},"input"===e.type?"IN":"OUT"),m.a.createElement("div",{className:"port-name"},e.name," "),m.a.createElement("div",{className:"port-switch"},m.a.createElement(Ue.a,{onChange:function(){return n(e.id)},checked:t,className:"react-switch",id:"normal-switch",height:20,width:42})))}}]),t}(d.Component),We=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={output:null,data:null,messages:[oe(5),le(5,13)],customMessage:""},n.updateCustomMessage=function(e){for(var t=(e.target.value.match(/[0-9a-fA-F]+/g)||[]).join(""),a="",r=0;r<t.length;r++)r>0&&r%2===0&&(a+=" "),a+=t[r];n.setState({customMessage:a})},n.sendCustomMessage=function(){var e=Array.from(P(n.state.customMessage,/ /g));e&&e.length>0&&(e.push(ce(e)),n.sendSysex(D.concat(e)))},n.handleMidiInputEvent=function(e){ge(e.data)?n.setState(Object(Pe.a)(function(t){t.data=ve(t.data||{},be(e.data))})):console.log("MIDI message is not a sysex message")},n.renderPort=function(e,t,n){return void 0===e||null===e?null:m.a.createElement(Ge,{key:e.id,port:e,selected:t,clickHandler:n})},n.setOutput=function(e){n.setState({output:e})},n.sendSysex=function(e){if(console.log("sendSysex",e),n.state.output){var t=Ie(n.state.output);t?n.setState({data:null},function(){return t.sendSysex(x,e)}):console.warn("send: output ".concat(n.state.output," not found"))}},n.sendMessage=function(e){n.sendSysex(e)},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.data,a=t.messages,r=t.customMessage,c=ce(P(r,/ /g));return m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement(Fe,{only:"Pacer midi1",autoConnect:"Pacer midi1",inputRenderer:this.renderPort,outputRenderer:this.renderPort,onMidiInputEvent:this.handleMidiInputEvent,onOutputConnection:this.setOutput,className:"sub-header"}),m.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("h2",null,"Test messages:"),m.a.createElement("div",null,a.map(function(t,n){return m.a.createElement("div",{key:n,className:"send-message"},m.a.createElement("button",{onClick:function(){return e.sendMessage(t)}},"send"),m.a.createElement("span",{className:"code light"},S(x.concat(t.slice(0,1)))," "),m.a.createElement("span",{className:"code"},S(t.slice(1,-1))," "),m.a.createElement("span",{className:"code light"}," ",S(t.slice(-1))))})),m.a.createElement("h2",null,"Custom message:"),m.a.createElement("div",null,m.a.createElement("div",{className:"send-message"},m.a.createElement("button",{onClick:this.sendCustomMessage,disabled:0===r.length},"send"),m.a.createElement("span",{className:"code light"},S(x)," ",S(D)," "),m.a.createElement("input",{type:"text",className:"code",size:"30",value:r,placeholder:"hex digits only",onChange:this.updateCustomMessage}),m.a.createElement("span",{className:"code light"}," ",w(c)))))),m.a.createElement("div",{className:"content-row step-3"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("h2",null,"Response:"),m.a.createElement("div",{className:"message code"},m.a.createElement(Te,{data:n}))))),m.a.createElement("div",{className:"help"},m.a.createElement("h3",null,"Help")))}}]),t}(d.Component),He=n(11),Ve=n.n(He),ze=n(15),Ye=(n(51),n(53),function(e){var t=e.name,n=e.id,a=e.selected,r=e.onClick;return m.a.createElement("div",{className:a?"selector selected":"selector",onClick:function(){return r(n)}},t)}),qe=function(e){var t=e.currentPreset,n=e.onClick;return m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"preset-selectors"},m.a.createElement(Ye,{name:"0",id:0,selected:0===t,onClick:n,key:0}),["A","B","C","D"].map(function(e){return m.a.createElement(d.Fragment,{key:e},"A"!==e&&m.a.createElement("div",null),Array.from(Array(6).keys()).map(function(a){var r,c=e+(a+1),o=6*((r=c).charCodeAt(0)-65)+parseInt(r[1],10);return m.a.createElement(Ye,{name:c,id:o,selected:o===t,onClick:n,key:o})}))})))},Je=(n(55),function(e){var t=e.name,n=e.id,a=e.selected,r=e.onClick;return m.a.createElement("div",{className:a?"selector selected":"selector",onClick:function(){return r(n)}},m.a.createElement("div",{className:"name"},t))}),Ke=function(e){var t=e.currentControl,n=e.onClick;return m.a.createElement("div",{className:"controls"},J.map(function(e){return m.a.createElement(Je,{key:e,name:z[e],id:e,selected:e===t,onClick:n})}),K.map(function(e){return m.a.createElement(Je,{key:e,name:z[e],id:e,selected:e===t,onClick:n})}),m.a.createElement("div",{className:"no-control"},"\xa0"),Y.map(function(e){return m.a.createElement(Je,{key:e,name:z[e],id:e,selected:e===t,onClick:n})}),m.a.createElement("div",{className:"no-control"},"\xa0"),q.map(function(e){return m.a.createElement(Je,{key:e,name:z[e],id:e,selected:e===t,onClick:n})}))},Xe=(n(57),function(e){var t=e.current_value,n=e.onChange;return m.a.createElement("select",{defaultValue:t,onChange:function(e){return n(e.target.value)}},m.a.createElement("option",{value:"0"},"0"),m.a.createElement("option",{value:"1"},"1"))}),Qe=function(e){var t=e.current_value,n=e.onChange;return m.a.createElement("select",{defaultValue:t,onChange:function(e){return n(e.target.value)}},Object.keys(ne).map(function(e){return m.a.createElement("option",{key:e,value:e},ne[e])}))},$e=function(e){var t=e.current_value,n=e.onChange;return m.a.createElement("select",{defaultValue:t,onChange:function(e){return n(e.target.value)}},m.a.createElement("option",{value:"0"},"default"),m.a.createElement("option",{value:"1"},"bottom"),m.a.createElement("option",{value:"2"},"middle"),m.a.createElement("option",{value:"3"},"top"))},Ze=function(e){var t=e.note,n=e.onChange;return m.a.createElement("select",{onChange:function(e){return n(e.target.value)},defaultValue:t},Array.from(Array(127).keys()).map(function(e){var t=Me.a(e,!0);return m.a.createElement("option",{key:e,value:e},t)}))},et=function(e){var t,n,a,r=e.index,c=e.config,o=e.updateCallback;return c.msg_type===X?m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"step-row-header"},"Step ",r,":"),m.a.createElement("div",null,m.a.createElement("select",{onChange:function(e){return o("msg_type",null,e.target.value)},defaultValue:c.msg_type},Object.keys($).map(function(e){return m.a.createElement("option",{key:e,value:e},$[e])}))),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null)):(67===c.msg_type||68===c.msg_type?(t=m.a.createElement(Ze,{note:c.data[0],onChange:function(e){return o("data",0,e)}}),n=m.a.createElement("input",{type:"text",value:c.data[1],onChange:function(e){return o("data",1,e.target.value)}}),a=""):(t=m.a.createElement("input",{type:"text",value:c.data[0],onChange:function(e){return o("data",0,e.target.value)}}),n=m.a.createElement("input",{type:"text",value:c.data[1],onChange:function(e){return o("data",1,e.target.value)}}),a=m.a.createElement("input",{type:"text",value:c.data[2],onChange:function(e){return o("data",2,e.target.value)}})),m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"step-row-header"},"Step ",r,":"),m.a.createElement("div",null,m.a.createElement("select",{onChange:function(e){return o("msg_type",null,e.target.value)},defaultValue:c.msg_type},Z.map(function(e){return m.a.createElement("option",{key:e.key,value:e.key},e.value)}))),m.a.createElement("div",null,t,m.a.createElement("div",{className:"data-help"},te[c.msg_type][0])),m.a.createElement("div",null,n,m.a.createElement("div",{className:"data-help"},te[c.msg_type][1])),m.a.createElement("div",null,a,m.a.createElement("div",{className:"data-help"},te[c.msg_type][2])),m.a.createElement("div",null,m.a.createElement(Qe,{current_value:c.led_active_color,onChange:function(e){return o("led_active_color",null,e)}})),m.a.createElement("div",null,m.a.createElement(Qe,{current_value:c.led_inactive_color,onChange:function(e){return o("led_inactive_color",null,e)}})),m.a.createElement("div",null,m.a.createElement($e,{current_value:c.led_num,onChange:function(e){return o("led_num",null,e)}})),m.a.createElement("div",null,m.a.createElement(Xe,{current_value:c.led_midi_ctrl,onChange:function(e){return o("led_midi_ctrl",null,e)}})),m.a.createElement("div",null,m.a.createElement("select",{onChange:function(e){return o("channel",null,e.target.value)},defaultValue:c.channel},Array.from(Array(16).keys()).map(function(e){return m.a.createElement("option",{key:e,value:e},e)})))))},tt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).onStepUpdate=function(e,t,a,r){console.log("ControlStepsEditor.onStepUpdate",e,t,a,r),n.props.onUpdate(e,t,a,r)},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.steps;return m.a.createElement("div",{className:"steps"},m.a.createElement("div",null),m.a.createElement("div",{className:"step-col-header"},"Type"),m.a.createElement("div",{className:"step-col-header"},"Data 1"),m.a.createElement("div",{className:"step-col-header"},"Data 2"),m.a.createElement("div",{className:"step-col-header"},"Data 3"),m.a.createElement("div",{className:"step-col-header"},"LED On"),m.a.createElement("div",{className:"step-col-header"},"LED Off"),m.a.createElement("div",{className:"step-col-header"},"LED Num"),m.a.createElement("div",{className:"step-col-header"},"LED MIDI"),m.a.createElement("div",{className:"step-col-header"},"MIDI Ch."),Object.keys(t).map(function(n){return m.a.createElement(et,{key:n,index:n,config:t[n],updateCallback:function(t,a,r){return e.onStepUpdate(n,t,a,r)}})}))}}]),t}(d.Component),nt=n(16),at=(n(22),n(62),function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this;return m.a.createElement("div",{className:"control-mode"},m.a.createElement("span",{className:"step-row-header"},"Control mode:"),m.a.createElement("select",{onChange:function(t){return e.props.onUpdate(t.target.value)},defaultValue:this.props.mode},Object.keys(re).map(function(e){return m.a.createElement("option",{key:e,value:e},re[e])})))}}]),t}(d.Component)),rt=(n(64),function(e){var t=e.messages;return m.a.createElement("div",{className:"status"},t.map(function(e,t){return m.a.createElement("div",{key:t,className:"status-".concat(e.type)},e.message)}))}),ct=40;function ot(e){return void 0!==e&&null!==e&&""!==e}var lt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={output:null,presetIndex:null,controlId:null,changed:!1,data:null,statusMessages:[]},n.addStatusMessage=function(e,t){n.setState(Object(Pe.a)(function(n){var a={type:e,message:t};n.statusMessages.push(a)>ct&&n.statusMessages.shift()}))},n.addInfoMessage=function(e){n.addStatusMessage("info",e)},n.addWarningMessage=function(e){n.addStatusMessage("warning",e)},n.addErrorMessage=function(e){n.addStatusMessage("error",e)},n.onDrop=function(e){console.log("drop",e),n.setState({data:null},function(){n.readFiles(e)})},n.selectPreset=function(e){e!==n.state.presetIndex?n.setState({presetIndex:e,data:null}):n.setState({presetIndex:e}),ot(e)&&n.state.controlId&&n.sendSysex(le(e,n.state.controlId))},n.selectControl=function(e){e!==n.state.presetIndex?n.setState({controlId:e,data:null}):n.setState({controlId:e}),ot(n.state.presetIndex)&&e&&n.sendSysex(le(n.state.presetIndex,e))},n.updateControlStep=function(e,t,a,r,c){console.log("Presets.updateControlStep",e,t,r,c);var o=parseInt(c,10);n.setState(Object(Pe.a)(function(n){"data"===a?n.data[R][n.presetIndex].controls[e].steps[t].data[r]=o:n.data[R][n.presetIndex].controls[e].steps[t][a]=o,"msg_type"===a&&(console.log("msg_type",a,c),o===X?(console.log("set active 0"),n.data[R][n.presetIndex].controls[e].steps[t].active=0):(console.log("set active 1"),n.data[R][n.presetIndex].controls[e].steps[t].active=1)),n.data[R][n.presetIndex].controls[e].steps[t].changed=!0,n.changed=!0}))},n.updateControlMode=function(e,t){console.log("Presets.updateControlMode",e,t);var a=parseInt(t,10);n.setState(Object(Pe.a)(function(t){t.data[R][t.presetIndex].controls[e].control_mode=a,t.data[R][t.presetIndex].controls[e].changed=!0,t.changed=!0}))},n.handleMidiInputEvent=function(e){ge(e.data)?(n.setState(Object(Pe.a)(function(t){t.data=ve(t.data||{},be(e.data));var n=Object.keys(t.data[R])[0],a=Object.keys(t.data[R][n].controls)[0];t.presetIndex=parseInt(n,10),t.controlId=parseInt(a,10)})),n.addInfoMessage("sysex received (".concat(e.data.length," bytes)"))):console.log("MIDI message is not a sysex message")},n.renderPort=function(e,t,n){return void 0===e||null===e?null:m.a.createElement(Ge,{key:e.id,port:e,selected:t,clickHandler:n})},n.onInputConnection=function(e){n.addInfoMessage("input ".concat(we(e)," connected"))},n.onInputDisconnection=function(e){n.addInfoMessage("input ".concat(we(e)," disconnected"))},n.onOutputConnection=function(e){n.setState(Object(Pe.a)(function(t){t.output=e})),n.addInfoMessage("output ".concat(Se(e)," connected"))},n.onOutputDisconnection=function(e){n.addInfoMessage("output ".concat(Se(e)," disconnected"))},n.sendSysex=function(e){if(console.log("sendSysex",e),n.state.output){var t=Ie(n.state.output);t?n.setState(function(){return t.sendSysex(x,e)}):console.warn("send: output ".concat(n.state.output," not found"))}},n.updatePacer=function(e){var t=!0,a=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(t=(c=o.next()).done);t=!0){var l=c.value;n.sendSysex(l)}}catch(s){a=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}n.addInfoMessage("update".concat(e.length>1?"s":""," sent to Pacer"))},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"readFiles",value:function(){var e=Object(ze.a)(Ve.a.mark(function e(t){var n=this;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ze.a)(Ve.a.mark(function e(t){var a;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=5;break}console.warn("readFiles: ".concat(t.name,": file too big, ").concat(t.size)),n.addWarningMessage("file too big"),e.next=11;break;case 5:return e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,ge(a=new e.t0(e.t1))?(n.setState(Object(Pe.a)(function(e){e.data=be(a);var t=Object.keys(e.data[R])[0],n=Object.keys(e.data[R][t].controls)[0];e.presetIndex=parseInt(t,10),e.controlId=parseInt(n,10)})),n.addInfoMessage("sysfile decoded")):(n.addWarningMessage("not a sysfile"),console.log("readFiles: not a sysfile",S(a.slice(0,5))));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.presetIndex,a=t.controlId,r=t.data,c=t.changed,o=!1;r&&(o=!0,R in r||(console.log("Presets: invalid data",r),o=!1),!o||n in r[R]||(console.log("Presets: preset ".concat(n," not found in data")),o=!1),!o||"controls"in r[R][n]||(console.log("Presets: controls not found in data"),o=!1),!o||a in r[R][n].controls||(console.log("Presets: control ".concat(a," not found in data")),o=!1),!o||"steps"in r[R][n].controls[a]||(console.log("Presets: steps not found in data"),o=!1)),o=o&&6===Object.keys(r[R][n].controls[a].steps).length;var l=[];return o&&(l=ye(n,a,r)),m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement(Fe,{only:"Pacer midi1",autoConnect:"Pacer midi1",inputRenderer:this.renderPort,outputRenderer:this.renderPort,onMidiInputEvent:this.handleMidiInputEvent,onInputConnection:this.onInputConnection,onInputDisconnection:this.onInputDisconnection,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection,className:"sub-header"},m.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer.")))),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("h2",null,"Choose the preset and the control to edit:"),m.a.createElement("div",{className:"selectors"},m.a.createElement(qe,{currentPreset:n,onClick:this.selectPreset}),ot(n)&&m.a.createElement(Ke,{currentControl:a,onClick:this.selectControl})))),m.a.createElement("div",{className:"content-row step-3"},m.a.createElement("div",{className:"content-row-content"},o&&m.a.createElement(d.Fragment,null,m.a.createElement("h2",null,"Edit the selected control:"),m.a.createElement(tt,{controlId:a,steps:r[R][n].controls[a].steps,onUpdate:function(t,n,r,c){return e.updateControlStep(a,t,n,r,c)}}),m.a.createElement(at,{controlId:a,mode:r[R][n].controls[a].control_mode,onUpdate:function(t){return e.updateControlMode(a,t)}})))),m.a.createElement("div",{className:"content-row step-4"},m.a.createElement("div",{className:"content-row-content"},c&&m.a.createElement(d.Fragment,null,m.a.createElement("h2",null,"Send the updated config to the Pacer:"),m.a.createElement("div",{className:"actions"},m.a.createElement("button",{className:"update",onClick:function(){return e.updatePacer(l)}},"Update Pacer"))))),m.a.createElement("div",null,o&&m.a.createElement("div",{className:"debug"},m.a.createElement("h4",null,"[Debug] update message to send to Pacer:"),m.a.createElement("div",{className:"message-to-send"},l.map(function(e,t){return m.a.createElement("div",{key:t,className:"code"},S(e))}))))),m.a.createElement("div",{className:"help"},m.a.createElement(nt.a,{onDrop:this.onDrop,className:"drop-zone"},"Drop a binary sysex file here",m.a.createElement("br",null),"or click to open the file dialog"),m.a.createElement("h3",null,"Log:"),m.a.createElement(rt,{messages:this.state.statusMessages})))}}]),t}(d.Component),st=n(30),it={128:"Note Off",144:"Note On",160:"AfterTouch",176:"Control Change",192:"Program Change",208:"Channel Pressure",224:"Pitch Wheel"},ut={0:"Bank Select (coarse)",1:"Modulation Wheel (coarse)",2:"Breath controller (coarse)",4:"Foot Pedal (coarse)",5:"Portamento Time (coarse)",6:"Data Entry (coarse)",7:"Volume (coarse)",8:"Balance (coarse)",10:"Pan position (coarse)",11:"Expression (coarse)",12:"Effect Control 1 (coarse)",13:"Effect Control 2 (coarse)",16:"General Purpose Slider 1",17:"General Purpose Slider 2",18:"General Purpose Slider 3",19:"General Purpose Slider 4",32:"Bank Select (fine)",33:"Modulation Wheel (fine)",34:"Breath controller (fine)",36:"Foot Pedal (fine)",37:"Portamento Time (fine)",38:"Data Entry (fine)",39:"Volume (fine)",40:"Balance (fine)",42:"Pan position (fine)",43:"Expression (fine)",44:"Effect Control 1 (fine)",45:"Effect Control 2 (fine)",64:"Hold Pedal (on/off)",65:"Portamento (on/off)",66:"Sustenuto Pedal (on/off)",67:"Soft Pedal (on/off)",68:"Legato Pedal (on/off)",69:"Hold 2 Pedal (on/off)",70:"Sound Variation",71:"Sound Timbre",72:"Sound Release Time",73:"Sound Attack Time",74:"Sound Brightness",75:"Sound Control 6",76:"Sound Control 7",77:"Sound Control 8",78:"Sound Control 9",79:"Sound Control 10",80:"General Purpose Button 1 (on/off)",81:"General Purpose Button 2 (on/off)",82:"General Purpose Button 3 (on/off)",83:"General Purpose Button 4 (on/off)",91:"Effects Level",92:"Tremulo Level",93:"Chorus Level",94:"Celeste Level",95:"Phaser Level",96:"Data Button increment",97:"Data Button decrement",98:"Non-registered Parameter (fine)",99:"Non-registered Parameter (coarse)",100:"Registered Parameter (fine)",101:"Registered Parameter (coarse)",120:"All Sound Off",121:"All Controllers Off",122:"Local Keyboard (on/off)",123:"All Notes Off",124:"Omni Mode Off",125:"Omni Mode On",126:"Mono Operation",127:"Poly Operation"},dt=(n(66),40),mt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[]},n.handleMidiInputEvent=function(e){n.setState(Object(Pe.a)(function(t){t.messages.unshift(e.data)>dt&&t.messages.pop()}))},n.renderPort=function(e,t,n){return void 0===e||null===e?null:m.a.createElement(Ge,{key:e.id,port:e,selected:t,clickHandler:n})},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",null,m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement(Fe,{only:".*",autoConnect:".*",inputRenderer:this.renderPort,outputRenderer:this.renderPort,onMidiInputEvent:this.handleMidiInputEvent,className:"sub-header"},m.a.createElement("div",{className:"no-midi"},"Please connect your Pacer or any other MIDI device to your computer.")))),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("div",null,m.a.createElement("h2",null,"MIDI messages"),m.a.createElement("p",null,"The messages are displayed in reverse chronological order (the most recent on top). Only the last 20 messages are displayed.")),m.a.createElement("div",{className:"messages"},this.state.messages.map(function(e,t){var n=Object(st.a)(e),a="",r="";switch(n.messageCode){case 128:case 144:a=Me.a(n.key),r="velocity: ".concat(n.velocity);break;case 160:break;case 176:a=ut[n.controlNumber],r=n.controlValue;break;case 192:a="program: ".concat(n.program),r="";break;case 208:break;case 224:a="bend: ".concat(n.pitchBend),r="multiplier: ".concat(n.pitchBendMultiplier)}return m.a.createElement("div",null,m.a.createElement("span",{className:"code"},"[",S(e),"]"),m.a.createElement("span",{className:"msg-channel"},"Channel ",n.channel),m.a.createElement("span",{className:"msg-name"},it[n.messageCode]),m.a.createElement("span",{className:"msg-data"},a),m.a.createElement("span",{className:"msg-data"},r))})))))))}}]),t}(d.Component),pt=(n(68),function(){return m.a.createElement("div",{className:"footer"},m.a.createElement("div",{className:"gh"},m.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"Source code available on GitHub"),m.a.createElement("a",{"aria-label":"Homepage",title:"project on github",href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},m.a.createElement("svg",{height:"24",viewBox:"0 0 16 16",version:"1.1",width:"24","aria-hidden":"true"},m.a.createElement("path",{fillRule:"evenodd",d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})))),m.a.createElement("div",null,m.a.createElement("p",null,"\u201cNektar Technology\u201d, the logo and all other Nektar Technology product, technology or service names and logos are trademarks or registered trademarks of Nektar Technology, Inc."),m.a.createElement("p",null,"This web site is not endorsed by, directly affiliated with, maintained, or sponsored by Nektar Technology. This web site is published under ",m.a.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank",rel:"noopener noreferrer"},"GNU General Public License v3"))))}),ft=function(e){function t(){return Object(h.a)(this,t),Object(g.a)(this,Object(E.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){return m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content"})),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement("div",{className:"sorry"},"Sorry, this feature is not implemented yet."))),m.a.createElement("div",{className:"content-row step-3"},m.a.createElement("div",{className:"content-row-content"})),m.a.createElement("div",{className:"content-row step-4"},m.a.createElement("div",{className:"content-row-content"}))),m.a.createElement("div",{className:"help"},m.a.createElement("h3",null,"Help")))}}]),t}(d.Component),ht=(n(70),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},n.onDrop=function(e){console.log("drop",e),n.props.onBusy(!0),n.setState({data:null},function(){n.readFiles(e)})},n.handleMidiInputEvent=function(e){console.log("DumpDecoder.handleMidiInputEvent",e,e.data),ge(e.data)?(console.log("DumpDecoder.handleMidiInputEvent: data is SysEx"),n.setState(Object(Pe.a)(function(t){t.data=ve(t.data||{},be(e.data))}))):console.log("MIDI message is not a sysex message")},n.renderPort=function(e,t,n){return void 0===e||null===e?null:m.a.createElement(Ge,{key:e.id,port:e,selected:t,clickHandler:n})},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"readFiles",value:function(){var e=Object(ze.a)(Ve.a.mark(function e(t){var n=this;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ze.a)(Ve.a.mark(function e(t){var a;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=4;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),e.next=10;break;case 4:return e.t0=Uint8Array,e.next=7,new Response(t).arrayBuffer();case 7:e.t1=e.sent,ge(a=new e.t0(e.t1))?n.setState(Object(Pe.a)(function(e){e.data=ve(e.data||{},be(a)),n.props.onBusy(!1)})):console.log("readFiles: not a sysfile",S(a.slice(0,5)));case 10:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data;return console.log("DumpDecoder.render",this.props),m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement(Fe,{only:"Pacer midi1",autoConnect:"Pacer midi1",inputRenderer:this.renderPort,outputRenderer:this.renderPort,onMidiInputEvent:this.handleMidiInputEvent,className:"sub-header"},m.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer.")))),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("h2",null,"Dump:"),"Send a dump from your Pacer or drop a binary sysex file onto the drop zone on the right.")),m.a.createElement("div",{className:"content-row step-3"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement(Te,{data:e})))),m.a.createElement("div",{className:"help"},m.a.createElement(nt.a,{onDrop:this.onDrop,className:"drop-zone"},"Drop a binary sysex file here",m.a.createElement("br",null),"or click to open the file dialog")))}}]),t}(d.Component)),vt=(n(72),n(19)),gt=function(e){var t=e.scale;return m.a.createElement("div",{className:"chord"},m.a.createElement("select",null,vt.a(t).map(function(e,t){return m.a.createElement("option",{value:e},e)})))},Et=function(e){e.scale;return m.a.createElement("div",{className:"chords"},Array.from(Array(6).keys()).map(function(e){var t=e+1;return m.a.createElement(gt,{name:t,key:e})}))},bt=(n(74),function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={output:null,presetIndex:"",scale:null},n.setScale=function(e){n.setState({scale:e.target.value})},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.state,t=e.presetIndex,n=e.scale;return m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement("div",{className:"sorry"},"Sorry, this feature is not implemented yet."))),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("h2",null,"Choose the preset:"),m.a.createElement("div",{className:"selectors"},m.a.createElement(qe,{currentPreset:t,onClick:this.selectPreset})))),m.a.createElement("div",{className:"content-row step-3"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("p",null,"Choose six chords, with up to six notes per chords, and assign them to the stompswitches 1-6."),m.a.createElement("p",null,"Choose if you want the notes to be played in one shot (like a regular chord) or in sequence (like an arpeggio)."),m.a.createElement("div",{className:"harmony"},m.a.createElement("div",null,"Scale:",m.a.createElement("select",{defaultValue:n,onChange:this.setScale},vt.b().map(function(e,t){return m.a.createElement("option",{key:e,value:e},e)}))),m.a.createElement("div",null,"Tonic: ",m.a.createElement("select",null))),m.a.createElement(Et,{scale:n}))),m.a.createElement("div",{className:"content-row step-4"},m.a.createElement("div",{className:"content-row-content"}))),m.a.createElement("div",{className:"help"},m.a.createElement("h3",null,"Help")))}}]),t}(d.Component)),yt=(n(76),function(e){var t=e.note,n=e.onChange;return m.a.createElement("select",{onChange:function(e){return n(e.target.value)},defaultValue:t},Array.from(Array(127).keys()).map(function(e){var t=Me.a(e,!0);return m.a.createElement("option",{key:e,value:e},t)}))}),Ot=function(e){var t,n,a,r=e.index,c=e.config,o=e.updateCallback;return c.msg_type===X?m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"setting-row-header"},"setting ",r,":"),m.a.createElement("div",null,m.a.createElement("select",{onChange:function(e){return o("msg_type",null,e.target.value)},defaultValue:c.msg_type},Object.keys($).map(function(e){return m.a.createElement("option",{key:e,value:e},$[e])}))),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null),m.a.createElement("div",null)):(67===c.msg_type?(t=m.a.createElement(yt,{note:c.data[0],onChange:function(e){return o("data",0,e)}}),n=m.a.createElement("input",{type:"text",value:c.data[1],onChange:function(e){return o("data",1,e.target.value)}}),a=""):(t=m.a.createElement("input",{type:"text",value:c.data[0],onChange:function(e){return o("data",0,e.target.value)}}),n=m.a.createElement("input",{type:"text",value:c.data[1],onChange:function(e){return o("data",1,e.target.value)}}),a=m.a.createElement("input",{type:"text",value:c.data[2],onChange:function(e){return o("data",2,e.target.value)}})),m.a.createElement(d.Fragment,null,m.a.createElement("div",{className:"setting-row-header"},"Setting ",r,":"),m.a.createElement("div",null,m.a.createElement("select",{onChange:function(e){return o("msg_type",null,e.target.value)},defaultValue:c.msg_type},ee.map(function(e){return m.a.createElement("option",{key:e.key,value:e.key},e.value)}))),m.a.createElement("div",null,t,m.a.createElement("div",{className:"data-help"},te[c.msg_type][0])),m.a.createElement("div",null,n,m.a.createElement("div",{className:"data-help"},te[c.msg_type][1])),m.a.createElement("div",null,a,m.a.createElement("div",{className:"data-help"},te[c.msg_type][2])),m.a.createElement("div",null,m.a.createElement("select",{onChange:function(e){return o("channel",null,e.target.value)},defaultValue:c.channel},Array.from(Array(16).keys()).map(function(e){return m.a.createElement("option",{key:e,value:e},e)})))))},Nt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).onSettingUpdate=function(e,t,a,r){n.props.onUpdate(e,t,a,r)},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.props.settings;return m.a.createElement("div",{className:"settings"},m.a.createElement("div",null),m.a.createElement("div",{className:"setting-col-header"},"Type"),m.a.createElement("div",{className:"setting-col-header"},"Data 1"),m.a.createElement("div",{className:"setting-col-header"},"Data 2"),m.a.createElement("div",{className:"setting-col-header"},"Data 3"),m.a.createElement("div",{className:"setting-col-header"},"MIDI Ch."),Object.keys(t).map(function(n){return m.a.createElement(Ot,{key:n,index:n,config:t[n],updateCallback:function(t,a,r){return e.onSettingUpdate(n,t,a,r)}})}))}}]),t}(d.Component),jt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).onNameUpdate=function(e){console.log("PresetNameEditor.onSettingUpdate",e.target.value),n.props.onUpdate(e.target.value.length>5?e.target.value.substr(0,5):e.target.value)},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this.props.name;return console.log("PresetNameEditor.render",e),m.a.createElement("div",{className:"preset-name"},m.a.createElement("p",null,"The preset name is limited to 5 characters."),m.a.createElement("span",{className:"strong"},"Name:")," ",m.a.createElement("input",{value:e,onChange:this.onNameUpdate,size:5}))}}]),t}(d.Component),Ct=40,kt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={output:null,presetIndex:null,changed:!1,data:null,statusMessages:[]},n.addStatusMessage=function(e,t){n.setState(Object(Pe.a)(function(n){var a={type:e,message:t};n.statusMessages.push(a)>Ct&&n.statusMessages.shift()}))},n.addInfoMessage=function(e){n.addStatusMessage("info",e)},n.addWarningMessage=function(e){n.addStatusMessage("warning",e)},n.addErrorMessage=function(e){n.addStatusMessage("error",e)},n.onDrop=function(e){console.log("drop",e),n.setState({data:null},function(){n.readFiles(e)})},n.selectPreset=function(e){console.log("selectPreset ".concat(e)),e!==n.state.presetIndex?n.setState({presetIndex:e,data:null}):n.setState({presetIndex:e}),n.sendSysex(oe(e))},n.updateMidiSettings=function(e,t,a,r){console.log("PresetMidi.updateMidiSettings",e,a,r);var c=parseInt(r,10);n.setState(Object(Pe.a)(function(n){"data"===t?n.data[R][n.presetIndex].midi[e].data[a]=c:n.data[R][n.presetIndex].midi[e][t]=c,"msg_type"===t&&(console.log("msg_type",t,r),c===X?(console.log("set active 0"),n.data[R][n.presetIndex].midi[e].active=0):(console.log("set active 1"),n.data[R][n.presetIndex].midi[e].active=1)),n.data[R][n.presetIndex].midi[e].changed=!0,n.changed=!0}))},n.updatePresetName=function(e){console.log("PresetMidi.updateName",e),void 0!==e&&null!==e&&(e.length>5?console.warn("PresetMidi.updateName: name too long: ".concat(e)):n.setState(Object(Pe.a)(function(t){t.data[R][t.presetIndex].name=e,t.data[R][t.presetIndex].changed=!0,t.changed=!0})))},n.handleMidiInputEvent=function(e){ge(e.data)?(n.setState(Object(Pe.a)(function(t){t.data=ve(t.data||{},be(e.data));var n=Object.keys(t.data[R])[0];t.presetIndex=parseInt(n,10)})),n.addInfoMessage("sysex received (".concat(e.data.length," bytes)"))):console.log("MIDI message is not a sysex message")},n.renderPort=function(e,t,n){return void 0===e||null===e?null:m.a.createElement(Ge,{key:e.id,port:e,selected:t,clickHandler:n})},n.onInputConnection=function(e){n.addInfoMessage("input ".concat(we(e)," connected"))},n.onInputDisconnection=function(e){n.addInfoMessage("input ".concat(we(e)," disconnected"))},n.onOutputConnection=function(e){n.setState(Object(Pe.a)(function(t){t.output=e})),n.addInfoMessage("output ".concat(Se(e)," connected"))},n.onOutputDisconnection=function(e){n.addInfoMessage("output ".concat(Se(e)," disconnected"))},n.sendSysex=function(e){if(console.log("sendSysex",e),n.state.output){var t=Ie(n.state.output);t?n.setState(function(){return t.sendSysex(x,e)}):console.warn("send: output ".concat(n.state.output," not found"))}},n.updatePacer=function(e){var t=!0,a=!1,r=void 0;try{for(var c,o=e[Symbol.iterator]();!(t=(c=o.next()).done);t=!0){var l=c.value;n.sendSysex(l)}}catch(s){a=!0,r=s}finally{try{t||null==o.return||o.return()}finally{if(a)throw r}}n.addInfoMessage("update".concat(e.length>1?"s":""," sent to Pacer"))},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"readFiles",value:function(){var e=Object(ze.a)(Ve.a.mark(function e(t){var n=this;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ze.a)(Ve.a.mark(function e(t){var a;return Ve.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=5;break}console.warn("readFiles: ".concat(t.name,": file too big, ").concat(t.size)),n.addWarningMessage("file too big"),e.next=11;break;case 5:return e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,ge(a=new e.t0(e.t1))?(n.setState(Object(Pe.a)(function(e){e.data=be(a);var t=Object.keys(e.data[R])[0];e.presetIndex=parseInt(t,10)})),n.addInfoMessage("sysfile decoded")):(n.addWarningMessage("not a sysfile"),console.log("readFiles: not a sysfile",S(a.slice(0,5))));case 11:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.presetIndex,a=t.data,r=t.changed,c=!1;a&&(c=!0,R in a||(console.log("Presets: invalid data",a),c=!1),!c||n in a[R]||(console.log("Presets: preset ".concat(n," not found in data")),c=!1),!c||"midi"in a[R][n]||(console.log("Presets: midi not found in data"),c=!1)),c=c&&16===Object.keys(a[R][n].midi).length;var o=[];if(c){o=Oe(n,a);var l=function(e,t){if(!t[R][e].changed)return null;var n=[A,R,e,T],a=t[R][e].name;n.push(a.length);for(var r=0;r<a.length;r++)n.push(a.charCodeAt(r));return n.push(ce(n)),n}(n,a);l&&o.push(l)}return m.a.createElement("div",{className:"wrapper"},m.a.createElement("div",{className:"content"},m.a.createElement("div",{className:"content-row step-1"},m.a.createElement("div",{className:"content-row-content row-middle-aligned"},m.a.createElement(Fe,{only:"Pacer midi1",autoConnect:"Pacer midi1",inputRenderer:this.renderPort,outputRenderer:this.renderPort,onMidiInputEvent:this.handleMidiInputEvent,onInputConnection:this.onInputConnection,onInputDisconnection:this.onInputDisconnection,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection,className:"sub-header"},m.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer.")))),m.a.createElement("div",{className:"content-row step-2"},m.a.createElement("div",{className:"content-row-content"},m.a.createElement("h2",null,"Choose the preset to edit:"),m.a.createElement("div",{className:"selectors"},m.a.createElement(qe,{currentPreset:n,onClick:this.selectPreset})))),m.a.createElement("div",{className:"content-row step-3"},m.a.createElement("div",{className:"content-row-content"},c&&m.a.createElement(d.Fragment,null,m.a.createElement("h2",null,"Preset name:"),m.a.createElement(jt,{name:a[R][n].name,onUpdate:function(t){return e.updatePresetName(t)}}),m.a.createElement("h2",null,"Preset MIDI settings:"),m.a.createElement(Nt,{settings:a[R][n].midi,onUpdate:function(t,n,a,r){return e.updateMidiSettings(t,n,a,r)}})))),m.a.createElement("div",{className:"content-row step-4"},m.a.createElement("div",{className:"content-row-content"},r&&m.a.createElement(d.Fragment,null,m.a.createElement("h2",null,"Send the updated config to the Pacer:"),m.a.createElement("div",{className:"actions"},m.a.createElement("button",{className:"update",onClick:function(){return e.updatePacer(o)}},"Update Pacer"))))),m.a.createElement("div",null,c&&m.a.createElement("div",{className:"debug"},m.a.createElement("h4",null,"[Debug] update message to send to Pacer:"),m.a.createElement("div",{className:"message-to-send"},o.map(function(e,t){return m.a.createElement("div",{key:t,className:"code"},S(e))}))),a&&m.a.createElement("div",{className:"debug"},m.a.createElement("h4",null,"[Debug] sysex data:"),m.a.createElement("pre",null,JSON.stringify(a,null,4))))),m.a.createElement("div",{className:"help"},m.a.createElement(nt.a,{onDrop:this.onDrop,className:"drop-zone"},"Drop a binary sysex file here",m.a.createElement("br",null),"or click to open the file dialog"),m.a.createElement("h3",null,"Log:"),m.a.createElement(rt,{messages:this.state.statusMessages})))}}]),t}(d.Component),It=function(e){var t=e.label,n=e.to,a=e.activeOnlyWhenExact;return m.a.createElement(y.a,{path:n,exact:a,children:function(e){var a=e.match;return m.a.createElement("span",{className:a?"header-link active":"header-link"},m.a.createElement(O.a,{to:n},t))}})},wt=function(e){function t(){var e,n;Object(h.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(g.a)(this,(e=Object(E.a)(t)).call.apply(e,[this].concat(r)))).state={busy:!1},n.onBusy=function(e){n.setState({busy:e})},n}return Object(b.a)(t,e),Object(v.a)(t,[{key:"render",value:function(){var e=this,t=this.state.busy;return m.a.createElement(N.a,null,m.a.createElement("div",{className:"app"},m.a.createElement("header",{className:"header"},m.a.createElement(It,{activeOnlyWhenExact:!0,to:"/",label:"Home"}),m.a.createElement(It,{to:"/preset",label:"Preset Controls"}),m.a.createElement(It,{to:"/presetmidi",label:"Preset Name & MIDI"}),m.a.createElement(It,{to:"/global",label:"Global config"}),m.a.createElement(It,{to:"/chords",label:"Chords"}),m.a.createElement(It,{to:"/monitor",label:"MIDI monitor"}),m.a.createElement(It,{to:"/dumpdecoder",label:"Dump decoder"}),m.a.createElement(It,{to:"/testsender",label:"Debug"}),m.a.createElement("div",{className:"spacer"}),t&&m.a.createElement("div",{className:"busy"},"busy")),m.a.createElement(j.a,null,m.a.createElement(y.a,{exact:!0,path:"/",render:function(e){return m.a.createElement(C,null)}}),m.a.createElement(y.a,{path:"/preset",render:function(t){return m.a.createElement(lt,{onBusy:e.onBusy})}}),m.a.createElement(y.a,{path:"/presetmidi",render:function(t){return m.a.createElement(kt,{onBusy:e.onBusy})}}),m.a.createElement(y.a,{path:"/global",render:function(t){return m.a.createElement(ft,{onBusy:e.onBusy})}}),m.a.createElement(y.a,{path:"/chords",render:function(t){return m.a.createElement(bt,{onBusy:e.onBusy})}}),m.a.createElement(y.a,{path:"/monitor",render:function(t){return m.a.createElement(mt,{onBusy:e.onBusy})}}),m.a.createElement(y.a,{path:"/dumpdecoder",render:function(t){return m.a.createElement(ht,{onBusy:e.onBusy})}}),m.a.createElement(y.a,{path:"/testsender",render:function(t){return m.a.createElement(We,{onBusy:e.onBusy})}})),m.a.createElement(pt,null)))}}]),t}(d.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function St(){}console.log=St,console.warn=St,console.error=St,f.a.render(m.a.createElement(wt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,2,1]]]);
//# sourceMappingURL=main.1281c326.chunk.js.map