(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{23:function(e,t,n){},24:function(e,t,n){},30:function(e,t,n){e.exports=n(79)},36:function(e,t,n){},38:function(e,t,n){},40:function(e,t,n){},42:function(e,t,n){},49:function(e,t,n){},51:function(e,t,n){},53:function(e,t,n){},55:function(e,t,n){},60:function(e,t,n){},62:function(e,t,n){},64:function(e,t,n){},66:function(e,t,n){},68:function(e,t,n){},76:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(25),c=n.n(o),s=(n(36),n(4)),l=n(5),i=n(7),u=n(6),d=n(8),p=(n(38),n(83)),m=n(81),f=n(82),h=n(84),v=(n(40),function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("h1",null,"Requirements"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor requires a browser that support the ",r.a.createElement("a",{href:"http://webaudio.github.io/web-midi-api/",target:"_blank",rel:"noopener noreferrer"},"Web MIDI API"),"."),r.a.createElement("p",null,"Currently, only ",r.a.createElement("span",{className:"strong"},"Chrome")," and ",r.a.createElement("span",{className:"strong"},"Opera")," support this standard. This application will therefore ",r.a.createElement("span",{className:"italic"},"not")," work in Firefox, Safari, IE or Edge."),r.a.createElement("p",null,"This editor does not work on iPad or Android tablet either.")),r.a.createElement("h1",null,"Limitations"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The current version of this editor isn't able to edit the Global configuration of the Pacer. This is planned for a future release."),r.a.createElement("p",null,"This editor is provided as-is, without warranty of any kind, express or implied. If you encounter a bug, please fill a bug report with ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor/issues/new",target:"_blank",rel:"noopener noreferrer"},"this form"),".")),r.a.createElement("h1",null,"Connecting your Pacer"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"1. Make sure your Pacer is connected to your computer and switched-on."),r.a.createElement("p",null,"2. In the application, check the MIDI settings."),r.a.createElement("p",null,"You need to enable the following input and output ports:"),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Mac"),":"),r.a.createElement("img",{src:"ports-mac.png",alt:""}),r.a.createElement("p",null,r.a.createElement("span",{className:"bold"},"Windows"),":"),r.a.createElement("img",{src:"ports-windows.png",alt:""}),r.a.createElement("p",null,"This editor listen on all MIDI ports. A future version may offer the possibility to choose a specific port.")),r.a.createElement("h1",null,"Editing presets"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"The preset ",r.a.createElement("span",{className:"strong"},"CUR")," is the ",r.a.createElement("span",{className:"italic fluo"},"current")," preset. When you edit preset ",r.a.createElement("span",{className:"strong"},"CUR")," your changes are immediately applied."),r.a.createElement("p",null,"When you edit any other presets, you edit the ",r.a.createElement("span",{className:"fluo"},"saved")," settings of the preset and your changes will only be applied when you ",r.a.createElement("span",{className:"fluo"},"load")," this preset in the Pacer."),r.a.createElement("p",null,"It is currently not possible to load the preset from this editor."),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"A5"),"."),r.a.createElement("p",null,"After you save your modifications, the display will show dots. That means the current preset does not reflect the saved preset anymore. You have to ",r.a.createElement("span",{className:"fluo"},"reload")," the preset to be able to use your updated version:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"A"),", then press switch ",r.a.createElement("span",{className:"strong"},"5"),".")),r.a.createElement("div",null,r.a.createElement("h3",null,"Example 1:"),r.a.createElement("p",null,"The currently loaded preset (CUR) is preset ",r.a.createElement("span",{className:"strong"},"A1"),"."),r.a.createElement("p",null,"You edit the preset ",r.a.createElement("span",{className:"strong"},"D3"),"."),r.a.createElement("p",null,"After you save your modifications of preset ",r.a.createElement("span",{className:"strong"},"D3"),", if you want to use it, of course you have to load it:"),r.a.createElement("p",null,"- long-press ",r.a.createElement("span",{className:"strong"},"Preset")," switch, then press switch ",r.a.createElement("span",{className:"strong"},"D"),", then press switch ",r.a.createElement("span",{className:"strong"},"3"),"."))),r.a.createElement("h1",null,"In case of problem"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Try the following:"),r.a.createElement("p",null,"- Check the MIDI configuration."),r.a.createElement("p",null,"- Reload the editor (F5 or Cmd-R or Ctrl-R)"),r.a.createElement("p",null,"- Restart the Pacer."),r.a.createElement("p",null,"If you mess up the configuration of your Pacer, do a ",r.a.createElement("span",{className:"fluo"},"Factory Restore"),". See page 21 of the Pacer User Guide for the procedure.")),r.a.createElement("h1",null,"MIDI in your browser"),r.a.createElement("div",{className:"doc"},r.a.createElement("div",null,r.a.createElement("p",null,"You need to allow your browser to use your MIDI device:"),r.a.createElement("img",{src:"help-01.png",alt:""})),r.a.createElement("div",null,r.a.createElement("p",null,"In case you didn't allow the use of MIDI device and want to change that, you can right-click on the URL icon and change the setting:"),r.a.createElement("img",{src:"help-02.png",alt:""}))),r.a.createElement("h1",null,"FAQ"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,r.a.createElement("i",null,"To be completed..."))),r.a.createElement("h1",null,"Known issues"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,'- The preset D6 can not be read by sending a "read preset" sysex. You have to dump it from the Pacer.'),r.a.createElement("p",null,"- LED configuration is displayed for external footswitch and expression pedals.")),r.a.createElement("h1",null,"Contribute"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"This editor is an Open Source project. You are welcome to contribute."),r.a.createElement("p",null,"The source-code is hosted by GitHub: ",r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"pacer-editor")),r.a.createElement("p",null,"To contribute your bug fixes, new features, etc.: 1) fork the project, 2) create a pull-request.")),r.a.createElement("h1",null,"Thanks"),r.a.createElement("div",{className:"doc"},r.a.createElement("p",null,"Thank you to the Nektar support service for having provided precious informations regarding the SysEx data format of the Pacer. This editor would not have been possible without their support.")))}}]),t}(a.Component)),g=n(17),E=n(1),y=n(20),b=function(e){return null===e||void 0===e?"":function(e,t,n){for(var a="",r=n||"0",o=(t||2)-e.length;a.length<o;)a+=r;return a+e}(e.toString(16).toUpperCase(),2)},O=function(e){return null===e||void 0===e?"":Array.from(e).map(function(e){return b(e)}).join(" ")},C=function(e,t){var n=t?e.replace(t,""):e;if(n.length%2>0)return null;if(0===n.length)return null;for(var a=new Uint8Array(n.length/2),r=0;r<n.length/2;r++)a[r]=parseInt(n.substr(2*r,2),16);return a};function j(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push({key:n,value:e[n]});return t.sort(function(e,t){return e.value.localeCompare(t.value)}),t}var N,w,k,x,P,I,S,M,D={position:"absolute",top:0,right:0,bottom:0,left:0,paddingTop:"4rem",background:"rgba(0,0,0,0.4)",textAlign:"center",color:"#fff",fontSize:"4rem"},R="Pacer.*",A=[0,1,119],B=[127],_=1,T=2,F=1,L=(N={},Object(E.a)(N,F,"preset"),Object(E.a)(N,5,"global"),Object(E.a)(N,7,"full backup"),N),U=1,G=13,W=18,H=20,Z=27,Y=54,z=55,V=126,J=127,K=(w={},Object(E.a)(w,U,"name"),Object(E.a)(w,G,"1"),Object(E.a)(w,14,"2"),Object(E.a)(w,15,"3"),Object(E.a)(w,16,"4"),Object(E.a)(w,17,"5"),Object(E.a)(w,W,"6"),Object(E.a)(w,19,"RESERVED"),Object(E.a)(w,H,"A"),Object(E.a)(w,21,"B"),Object(E.a)(w,22,"C"),Object(E.a)(w,23,"D"),Object(E.a)(w,24,"FS 1"),Object(E.a)(w,25,"FS 2"),Object(E.a)(w,26,"FS 3"),Object(E.a)(w,Z,"FS 4"),Object(E.a)(w,Y,"EXP 1"),Object(E.a)(w,z,"EXP 2"),Object(E.a)(w,V,"MIDI configuration"),Object(E.a)(w,J,"ALL"),w),q={1:"Preset Name",13:"Stompswitch 1",14:"Stompswitch 2",15:"Stompswitch 3",16:"Stompswitch 4",17:"Stompswitch 5",18:"Stompswitch 6",19:"RESERVED",20:"Stompswitch A",21:"Stompswitch B",22:"Stompswitch C",23:"Stompswitch D",24:"Footswitch 1",25:"Footswitch 2",26:"Footswitch 3",27:"Footswitch 4",54:"Expression Pedal 1",55:"Expression Pedal 2",126:"MIDI configuration",127:"ALL"},X=[13,14,15,16,17,18,20,21,22,23],Q=[20,21,22,23],$=[13,14,15,16,17,18],ee=[24,25,26,27],te=[54,55],ne=97,ae=(k={},Object(E.a)(k,0,"CC"),Object(E.a)(k,3,"NRPN C"),Object(E.a)(k,4,"NRPN F"),Object(E.a)(k,1,"PITCH"),Object(E.a)(k,2,"AT CHAN"),Object(E.a)(k,126,"DAW FUNC"),Object(E.a)(k,ne,"CTRL_OFF"),Object(E.a)(k,71,"CC TOGGLE"),Object(E.a)(k,64,"CC"),Object(E.a)(k,72,"CC STEP"),Object(E.a)(k,67,"NOTE"),Object(E.a)(k,68,"NOTE TOGGLE"),Object(E.a)(k,69,"PRG BANK"),Object(E.a)(k,70,"PRG STEP"),Object(E.a)(k,87,"NRPN COARSE"),Object(E.a)(k,88,"NRPN FINE"),Object(E.a)(k,85,"MMC"),Object(E.a)(k,89,"RELAY"),Object(E.a)(k,98,"PRESET SELECT"),Object(E.a)(k,86,"PRESET INC DEC"),Object(E.a)(k,99,"STEP SELECT"),Object(E.a)(k,100,"STEP INC DEC"),Object(E.a)(k,18,"CC"),Object(E.a)(k,17,"CC REL"),Object(E.a)(k,21,"NRPN C"),Object(E.a)(k,22,"NRPN F"),Object(E.a)(k,19,"PITCH"),Object(E.a)(k,20,"AT CHAN"),Object(E.a)(k,16,"PRG"),Object(E.a)(k,23,"PRESET SEL"),Object(E.a)(k,24,"STEP SEL"),Object(E.a)(k,101,"CC"),k),re=(x={},Object(E.a)(x,ne,"OFF"),Object(E.a)(x,71,"CC Toggle"),Object(E.a)(x,64,"CC Trigger"),Object(E.a)(x,72,"CC Step"),Object(E.a)(x,67,"Note"),Object(E.a)(x,68,"Note Toggle"),Object(E.a)(x,69,"Program & Bank"),Object(E.a)(x,70,"Program Step"),Object(E.a)(x,87,"NRPN Coarse"),Object(E.a)(x,88,"NRPN Fine"),Object(E.a)(x,85,"MIDI Machine Control"),Object(E.a)(x,89,"Relay Outputs"),Object(E.a)(x,98,"Preset Select"),Object(E.a)(x,86,"Preset Inc/Dec"),Object(E.a)(x,99,"Step Select"),Object(E.a)(x,100,"Step Inc/Dec"),x),oe=j(re),ce=(P={},Object(E.a)(P,18,"CC"),Object(E.a)(P,17,"CC REL"),Object(E.a)(P,21,"NRPN Coarse"),Object(E.a)(P,22,"NRPN Fine"),Object(E.a)(P,19,"Pitch Bend"),Object(E.a)(P,20,"AT Chan."),Object(E.a)(P,16,"Program"),Object(E.a)(P,23,"Preset Sel"),Object(E.a)(P,24,"Step Sel"),j((I={},Object(E.a)(I,101,"Load CC"),Object(E.a)(I,67,"MIDI Note"),Object(E.a)(I,69,"Program & Bank"),Object(E.a)(I,87,"NRPN Coarse"),Object(E.a)(I,88,"NRPN Fine"),Object(E.a)(I,85,"MIDI Machine Control"),Object(E.a)(I,89,"Relay Outputs"),Object(E.a)(I,126,"DAW Func."),Object(E.a)(I,ne,"OFF"),I))),se=(S={},Object(E.a)(S,0,["","",""]),Object(E.a)(S,3,["","",""]),Object(E.a)(S,4,["","",""]),Object(E.a)(S,1,["","",""]),Object(E.a)(S,2,["","",""]),Object(E.a)(S,126,["function","not used","not used"]),Object(E.a)(S,ne,["","",""]),Object(E.a)(S,71,["controller","value 1","value 2"]),Object(E.a)(S,64,["controller","down","up"]),Object(E.a)(S,72,["controller","start","end"]),Object(E.a)(S,67,["note","velocity","not used"]),Object(E.a)(S,68,["note","velocity","not used"]),Object(E.a)(S,69,["program","bank LSB","bank MSB"]),Object(E.a)(S,70,["not used","start","end"]),Object(E.a)(S,87,["value","NRPN LSB","NRPN MSB"]),Object(E.a)(S,88,["value","NRPN LSB","NRPN MSB"]),Object(E.a)(S,85,["device","command","not used"]),Object(E.a)(S,89,["mode","relay #","not used"]),Object(E.a)(S,98,["preset","not used","not used"]),Object(E.a)(S,86,["inc/dec","not used","not used"]),Object(E.a)(S,99,["target","step","not used"]),Object(E.a)(S,100,["target","inc/dec","not used"]),Object(E.a)(S,18,["","",""]),Object(E.a)(S,17,["","",""]),Object(E.a)(S,21,["","",""]),Object(E.a)(S,22,["","",""]),Object(E.a)(S,19,["","",""]),Object(E.a)(S,20,["","",""]),Object(E.a)(S,16,["","",""]),Object(E.a)(S,23,["","",""]),Object(E.a)(S,24,["","",""]),Object(E.a)(S,101,["controller","value","not used"]),S),le={0:"Off",1:"1A Pink",2:"1B Dim Pink",3:"2A Red",4:"2B Dim Red",5:"3A Orange",6:"3B Dim Orange",7:"4A Amber",8:"4B Dim Amber",9:"5A Yellow",10:"5B Dim Yellow",11:"6A Lime",12:"6B Dim Lime",13:"7A Green",14:"7B Dim Green",15:"8A Teal",16:"8B Dim Teal",17:"9A Blue",18:"9B Dim Blue",19:"10A Lavender",20:"10B Dim Lavender",21:"11A Purple",22:"11B Dim Purple",23:"12A White",24:"12B Dim White"},ie=96,ue=(M={},Object(E.a)(M,0,"All"),Object(E.a)(M,2,"External Step Select"),Object(E.a)(M,1,"Sequence"),M),de=189,pe=240,me=247,fe="controls",he=4,ve=5,ge=6,Ee=7,ye=8;function be(e){return e&&"object"===typeof e&&!Array.isArray(e)}function Oe(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),a=1;a<t;a++)n[a-1]=arguments[a];if(!n.length)return e;var r=n.shift();if(be(e)&&be(r))for(var o in r)be(r[o])?(e[o]||Object.assign(e,Object(E.a)({},o,{})),Oe(e[o],r[o])):Object.assign(e,Object(E.a)({},o,r[o]));return Oe.apply(void 0,[e].concat(n))}function Ce(e){return null===e||void 0===e||0===e.length?128:(128-Uint8Array.from(e).reduce(function(e,t){return e+t})%128)%128}function je(e){return e[0]===pe&&e[e.byteLength-1]===me}function Ne(e){var t,n={},a=e[he],r=e[ve],o=e[ge],c=e[Ee];switch(a){case _:case T:break;default:return console.warn("parseSysexMessage: invalid command (".concat(b(a),")")),null}if(!(r in L))return console.warn("parseSysexMessage: invalid target",b(r),r,L),null;if(n[r]={},n[r][o]={},7===e.length)return n;if(!(c in K))return null;if(c===U)t="name";else if(c>=G&&c<=W||c>=H&&c<=Z||c>=Y&&c<=z)t="control";else if(c===V)t="midi";else{if(c!==J)return console.warn("parseSysexMessage: invalid obj",c),null;t="all"}if("name"===t&&(n[r][o].name=function(e){var t=e[1];return String.fromCharCode.apply(null,e.slice(2,2+t))}(e.slice(ye))),"control"===t)if(n[r][o][fe]=Object(E.a)({},c,{steps:{}}),e.length>9){var s=e[ye];if(s>=1&&s<=36)if(e.length>ye+22){var l=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]],active:e[22]}}}(e.slice(ye,ye+23));n[r][o][fe][c].steps[l.index]=l.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),O(e));else if(s===ie){var i=function(e){return{control_mode:e[2]}}(e.slice(ye,e.length-1));n[r][o][fe][c]=Oe(n[r][o][fe][c],i)}else if(s>=64&&s<=87){var u=function(e){for(var t,n,a,r={steps:{}},o=0;o<e.length;){var c=e[o];switch(0===o&&(a=""+((c-64)/4+1)),a in r.steps||(r.steps[a]={}),c){case 64:case 68:case 72:case 76:case 80:case 84:t=e[++o],o++,n=1===t?e[o]:Array.from(e.slice(o,o+t)),o+=t,r.steps[a].led_midi_ctrl=n;break;case 65:case 69:case 73:case 77:case 81:case 85:t=e[++o],o++,n=1===t?e[o]:Array.from(e.slice(o,o+t)),o+=t,r.steps[a].led_active_color=n;break;case 66:case 70:case 74:case 78:case 82:case 86:t=e[++o],o++,n=1===t?e[o]:Array.from(e.slice(o,o+t)),o+=t,r.steps[a].led_inactive_color=n;break;case 67:case 71:case 75:case 79:case 83:case 87:t=e[++o],o++,n=1===t?e[o]:Array.from(e.slice(o,o+t)),o+=t,r.steps[a].led_num=n;break;case 127:o=e.length;break;default:o++}}return r}(e.slice(ye,e.length-1));n[r][o][fe][c]=Oe(n[r][o][fe][c],u)}else if(127!==s)return console.warn("parseSysexMessage: unknown element: ".concat(b(s))),null}else n[r][o][fe]=Object(E.a)({},c,{});if("midi"===t){n[r][o].midi={};var d=e[ye];if(!(d>=1&&d<=96))return console.warn("parseSysexMessage: unknown element: ".concat(b(d))),null;if(e.length>ye+19){var p=function(e){return{index:(e[0]-1)/6+1,config:{channel:e[2],msg_type:e[6],data:[e[10],e[14],e[18]]}}}(e.slice(ye,ye+20));n[r][o].midi[p.index]=p.config}else console.warn("parseSysexMessage: data does not contains steps. data.length=".concat(e.length),O(e))}return"all"===t&&(n[r][o].all={}),n}function we(e){if(null===e)return null;for(var t={},n=0;!((n=e.indexOf(pe,n))<0);){n++;var a=e.indexOf(me,n),r=Array.from(e.slice(n,n+3)).map(function(e){return b(e)}).join(" ");if(r!==y.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: file does not contain a Nektar Pacer patch",n,a,r,"-",O(e)),null;if(127!==e[n+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[n+1+3])),null;var o=Ne(e.slice(n,a));o&&Oe(t,o)}return t}function ke(){var e=[T,F,J],t=Ce(e);return e.push(t),B.concat(e)}function xe(e){var t=[T,F,e,J],n=Ce(t);return t.push(n),B.concat(t)}function Pe(e,t){var n=[T,F,e,t],a=Ce(n);return n.push(a),B.concat(n)}function Ie(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(g.a)(function(e,t,n){if(!(arguments.length>3&&void 0!==arguments[3]&&arguments[3])&&!n.control_mode_changed)return[];var a=[_,F,e,t,ie,1,n.control_mode];return a.push(Ce(a)),[B.concat(a)]}(e,t,n[F][e][fe][t],a)).concat(Object(g.a)(function(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],o=Object.keys(n),c=0;c<o.length;c++){var s=o[c],l=n[s];if(a||l.changed){var i=[_,F,e,t];i.push(6*(s-1)+1,1,l.channel,0),i.push(6*(s-1)+2,1,l.msg_type,0),i.push(6*(s-1)+3,1,l.data[0],0),i.push(6*(s-1)+4,1,l.data[1],0),i.push(6*(s-1)+5,1,l.data[2],0),i.push(6*(s-1)+6,1,l.active),i.push(Ce(i)),r.push(B.concat(i))}}return r}(e,t,n[F][e][fe][t].steps,a)),Object(g.a)(function(e,t,n){for(var a=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=[],o=Object.keys(n),c=0;c<o.length;c++){var s=o[c],l=n[s];if(a||l.led_changed){var i=[_,F,e,t];i.push(4*(s-1)+64,1,l.led_midi_ctrl,0),i.push(4*(s-1)+65,1,l.led_active_color,0),i.push(4*(s-1)+66,1,l.led_inactive_color,0),i.push(4*(s-1)+67,1,l.led_num),i.push(Ce(i)),r.push(B.concat(i))}}return r}(e,t,n[F][e][fe][t].steps,a)))}function Se(e,t){return function(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=[],r=Object.keys(t),o=0;o<r.length;o++){var c=r[o],s=t[c];if(s.changed||n){var l=[_,F,e,V];l.push(6*(c-1)+1,1,s.channel,0),l.push(6*(c-1)+2,1,s.msg_type,0),l.push(6*(c-1)+3,1,s.data[0],0),l.push(6*(c-1)+4,1,s.data[1],0),l.push(6*(c-1)+5,1,s.data[2],0),l.push(6*(c-1)+6,1,s.active),l.push(Ce(l)),a.push(B.concat(l))}}return a}(e,t[F][e].midi)}var Me=n(10),De=n.n(Me);function Re(e){var t=De.a.inputs.find(function(t){return t.id===e});return t||De.a.outputs.find(function(t){return t.id===e})}function Ae(e){return De.a.inputs.find(function(t){return t.id===e})}function Be(e){return De.a.outputs.find(function(t){return t.id===e})}n(42);var _e=n(3),Te=(n(23),n(15)),Fe=function(e){var t=parseInt(e);if(0===t)return"CUR";var n=Math.floor((t-1)/6),a=(t-1)%6+1;return String.fromCharCode(n+65)+a.toString()},Le=function(e){var t=e.settings;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:6,className:"name"},"MIDI settings")),Object.keys(t).map(function(e){var n=ae[t[e].msg_type];return 67===t[e].msg_type&&(n=n+" "+Te.a(t[e].data[0],!0)+" vel. "+t[e].data[1]),r.a.createElement("tr",{key:e},r.a.createElement("td",null,"settings ",e),r.a.createElement("td",null,"ch. ",b(t[e].channel)),r.a.createElement("td",null,"msg ",b(t[e].msg_type)),r.a.createElement("td",null,n),r.a.createElement("td",null,O(t[e].data)),r.a.createElement("td",null,t[e].active?"active":"OFF"))}))))},Ue=function(e){var t=e.settings;return null===t?null:r.a.createElement("div",null,r.a.createElement(Le,{settings:t}))},Ge=function(e){var t=e.obj,n=e.config;return null===n||void 0===n?null:r.a.createElement("div",{className:"dump-control"},r.a.createElement("table",null,r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10,className:"name"},q[t])),r.a.createElement("tr",null,r.a.createElement("th",null,"step"),r.a.createElement("th",null,"ch."),r.a.createElement("th",null,"type"),r.a.createElement("th",null,"data"),r.a.createElement("th",null,"decoded"),r.a.createElement("th",null,"active"),r.a.createElement("th",null,"LED num"),r.a.createElement("th",null,"LED On"),r.a.createElement("th",null,"LED Off"),r.a.createElement("th",null,"LED midi")),Object.keys(n.steps).map(function(e){var a=ae[n.steps[e].msg_type];67===n.steps[e].msg_type&&(a=a+" "+Te.a(n.steps[e].data[0],!0)+" vel. "+n.steps[e].data[1]);var o=n.steps[e].led_inactive_color,c=n.steps[e].led_active_color;return r.a.createElement("tr",{key:"".concat(t,".").concat(e)},r.a.createElement("td",null,e),r.a.createElement("td",null,b(n.steps[e].channel)),r.a.createElement("td",null,b(n.steps[e].msg_type)),r.a.createElement("td",null,O(n.steps[e].data)),r.a.createElement("td",null,a),r.a.createElement("td",null,n.steps[e].active?"active":"OFF"),r.a.createElement("td",null,b(n.steps[e].led_num)),r.a.createElement("td",null,c in le?le[c]:b(c)),r.a.createElement("td",null,o in le?le[o]:b(o)),r.a.createElement("td",null,b(n.steps[e].led_midi_ctrl)))}),r.a.createElement("tr",null,r.a.createElement("td",{colSpan:10},"control mode: ",ue[n.control_mode])))))},We=function(e){var t=e.controls;return null===t||void 0===t?null:r.a.createElement("div",{className:"dump-controls"},Object.keys(t).map(function(e){return r.a.createElement(Ge,{key:e,obj:e,config:t[e]})}))},He=function(e){var t=e.index,n=e.data;return null===n||void 0===n?null:r.a.createElement("div",null,r.a.createElement("h3",null,"Preset ",Fe(parseInt(t,10))," (#",t,"): ",n.name),r.a.createElement(We,{controls:n.controls}),r.a.createElement(Ue,{settings:n.midi}))},Ze=function(e){var t=e.presets;return null===t||void 0===t?null:r.a.createElement("div",null,Object.keys(t).map(function(e){return r.a.createElement(He,{key:e,index:e,data:t[e]})}))},Ye=function(e){var t=e.data;return r.a.createElement("div",{className:"dump code"},t&&r.a.createElement(Ze,{presets:t[F]}))},ze=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={inputs:[],outputs:[],input:null,output:null,pacerPresent:!1},n.connectInput=function(e){n.props.onMidiInputEvent&&e&&(e.hasListener(n.props.messageType,"all",n.props.onMidiInputEvent)?console.warn("Midi.connectInput: sysex messages on all channels listener already connected"):(console.log("Midi.connectInput: add listener for sysex messages on all channels"),e.addListener(n.props.messageType,"all",n.props.onMidiInputEvent),n.props.onInputConnection&&n.props.onInputConnection(e.id),console.log("connectInput: ",e.name)))},n.disconnectInput=function(e){e&&(e.removeListener&&e.removeListener(),console.log("disconnectInput: input ".concat(e.id," disconnected")),n.props.onInputDisconnection&&n.props.onInputDisconnection(e.id))},n.connectOutput=function(e){e&&(n.setState({output:e.id}),console.log("connectOutput: output ".concat(e.id," connected")),n.props.onOutputConnection&&n.props.onOutputConnection(e.id))},n.disconnectOutput=function(){if(n.state.output){var e=n.state.output;n.setState(Object(_e.a)(function(e){e.pacerOutputConnected=!1,e.output=null})),console.log("disconnectOutput: output ".concat(e," disconnected")),n.props.onOutputDisconnection&&n.props.onOutputDisconnection(e)}},n.autoConnectInput=function(){if(n.props.autoConnect)if(console.log("Midi.autoConnectInput: autoConnect ".concat(n.props.autoConnect),n.state.inputs),null===n.state.input){var e=!0,t=!1,a=void 0;try{for(var r,o=n.state.inputs[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var c=r.value;if(console.log("Midi.autoConnectInput: port ".concat(c.name," ").concat(c.id)),"input"===c.type&&null!=c.name.match(new RegExp(n.props.autoConnect,"i"))){console.log("Midi.autoConnectInput: connect ".concat(c.name)),n.setState({input:c.id}),n.connectInput(c);break}}}catch(s){t=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw a}}}else console.log("Midi.autoConnectInput: autoConnect skipped, already connected")},n.autoConnectOutput=function(){if(n.props.autoConnect)if(console.log("Midi.autoConnectOutput: autoConnect ".concat(n.props.autoConnect)),null===n.state.output){var e=!0,t=!1,a=void 0;try{for(var r,o=n.state.outputs[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){var c=r.value;if(console.log("Midi.autoConnectOutput: port ".concat(c.name," ").concat(c.id)),"output"===c.type&&null!=c.name.match(new RegExp(n.props.autoConnect,"i"))){console.log("Midi.autoConnectOutput: autoConnect: auto-connect ".concat(c.name)),n.connectOutput(c);break}}}catch(s){t=!0,a=s}finally{try{e||null==o.return||o.return()}finally{if(t)throw a}}}else console.log("Midi.autoConnectOutput: autoConnect skipped, already connected")},n.registerInputs=function(){var e=new RegExp(n.props.only,"i"),t=new RegExp(R,"i");n.setState({inputs:Me.inputs.filter(function(t){return null!=t.name.match(e)}),pacerPresent:Me.inputs.findIndex(function(e){return null!=e.name.match(t)})>=0},function(){return n.autoConnectInput()})},n.registerOutputs=function(){var e=new RegExp(n.props.only,"i");n.setState({outputs:Me.outputs.filter(function(t){return null!=t.name.match(e)})},function(){return n.autoConnectOutput()})},n.unRegisterInputs=function(){console.log("Midi.unRegisterInputs"),n.disconnectInput(Re(n.state.input)),n.setState({inputs:[],input:null,pacerPresent:!1})},n.unRegisterOutputs=function(){console.log("Midi.unRegisterOutputs"),n.disconnectOutput(),n.setState({outputs:[],output:null})},n.handleMidiConnectEvent=function(e){console.group("Midi: handleMidiConnectEvent: ".concat(e.port.type," ").concat(e.type,": ").concat(e.port.name),e),"disconnected"===e.type&&(n.disconnectInput(e.port.id),n.disconnectOutput()),e.port.name.match(new RegExp(n.props.only,"i"))?("input"===e.port.type&&(console.log("Midi.handleMidiConnectEvent: call registerInputs"),n.registerInputs()),"output"===e.port.type&&(console.log("Midi.handleMidiConnectEvent: call registerOutputs"),n.registerOutputs())):console.log("Midi.handleMidiConnectEvent: port ignored: ".concat(e.port.name)),console.groupEnd()},n.togglePort=function(e){if("input"===Re(e).type){console.log("toggle input",e);var t=n.state.input;n.state.input&&n.disconnectInput(Re(n.state.input)),e!==t&&n.connectInput(Ae(e)),n.setState({input:e===t?null:e})}else{console.log("toggle output",e);var a=n.state.output;n.state.output&&n.disconnectOutput(),e!==a&&n.connectOutput(Re(e))}},n.midiOn=function(e){e?console.warn("Midi.midiOn: WebMidi could not be enabled.",e):(console.log("Midi.midiOn: WebMidi enabled"),Me.addListener("connected",n.handleMidiConnectEvent),Me.addListener("disconnected",n.handleMidiConnectEvent))},n.portsGrouped=function(){var e={},t=!0,a=!1,r=void 0;try{for(var o,c=Me.inputs[Symbol.iterator]();!(t=(o=c.next()).done);t=!0){var s=o.value;e[s.name]={input:{id:s.id,selected:s.id===n.state.input},output:null}}}catch(f){a=!0,r=f}finally{try{t||null==c.return||c.return()}finally{if(a)throw r}}var l=!0,i=!1,u=void 0;try{for(var d,p=Me.outputs[Symbol.iterator]();!(l=(d=p.next()).done);l=!0){var m=d.value;m.name in e||(e[m.name]={input:null,output:null}),e[m.name].output={id:m.id,selected:m.id===n.state.output}}}catch(f){i=!0,u=f}finally{try{l||null==p.return||p.return()}finally{if(i)throw u}}return e},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){console.log("Midi: component did mount: WebMidi.enabled=".concat(Me.enabled)),Me.enabled?(console.log("Midi: component did mount: already enabled, register ports"),this.registerInputs(),this.registerOutputs()):(console.log("Midi: component did mount: Calling WebMidi.enable"),Me.enable(this.midiOn,!0))}},{key:"componentWillUnmount",value:function(){console.log("Midi: component will unmount: unregister ports"),this.unRegisterInputs(),this.unRegisterOutputs()}},{key:"render",value:function(){var e=this.state.pacerPresent;return r.a.createElement(a.Fragment,null,this.props.portsRenderer(this.portsGrouped(),this.togglePort),!e&&r.a.createElement(a.Fragment,null,this.props.children))}}]),t}(a.Component);ze.defaultProps={classname:"",only:".*",messageType:"midimessage"};var Ve=n(21),Je=n.n(Ve),Ke=function(e){var t=e.groupedPorts,n=e.clickHandler;return r.a.createElement("div",{className:"ports-grid"},Object.keys(t).map(function(e,o){return r.a.createElement("div",{className:"port",key:o},r.a.createElement("div",{className:"port-name"},e),t[e].input&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(a.Fragment,null,"in\xa0",r.a.createElement(Je.a,{onChange:function(){return n(t[e].input.id)},checked:t[e].input.selected,className:"react-switch",id:"switch-".concat(t[e].input.id),height:16,width:36}))),t[e].output&&r.a.createElement("div",{className:"port-switch"},r.a.createElement(a.Fragment,null,"out\xa0",r.a.createElement(Je.a,{onChange:function(){return n(t[e].output.id)},checked:t[e].output.selected,className:"react-switch",id:"switch-".concat(t[e].output.id),height:16,width:36}))))}))},qe={128:"Note Off",144:"Note On",160:"AfterTouch",176:"Control Change",192:"Program Change",208:"Channel Pressure",224:"Pitch Wheel"},Xe={0:"Bank Select (coarse)",1:"Modulation Wheel (coarse)",2:"Breath controller (coarse)",4:"Foot Pedal (coarse)",5:"Portamento Time (coarse)",6:"Data Entry (coarse)",7:"Volume (coarse)",8:"Balance (coarse)",10:"Pan position (coarse)",11:"Expression (coarse)",12:"Effect Control 1 (coarse)",13:"Effect Control 2 (coarse)",16:"General Purpose Slider 1",17:"General Purpose Slider 2",18:"General Purpose Slider 3",19:"General Purpose Slider 4",32:"Bank Select (fine)",33:"Modulation Wheel (fine)",34:"Breath controller (fine)",36:"Foot Pedal (fine)",37:"Portamento Time (fine)",38:"Data Entry (fine)",39:"Volume (fine)",40:"Balance (fine)",42:"Pan position (fine)",43:"Expression (fine)",44:"Effect Control 1 (fine)",45:"Effect Control 2 (fine)",64:"Hold Pedal (on/off)",65:"Portamento (on/off)",66:"Sustenuto Pedal (on/off)",67:"Soft Pedal (on/off)",68:"Legato Pedal (on/off)",69:"Hold 2 Pedal (on/off)",70:"Sound Variation",71:"Sound Timbre",72:"Sound Release Time",73:"Sound Attack Time",74:"Sound Brightness",75:"Sound Control 6",76:"Sound Control 7",77:"Sound Control 8",78:"Sound Control 9",79:"Sound Control 10",80:"General Purpose Button 1 (on/off)",81:"General Purpose Button 2 (on/off)",82:"General Purpose Button 3 (on/off)",83:"General Purpose Button 4 (on/off)",91:"Effects Level",92:"Tremulo Level",93:"Chorus Level",94:"Celeste Level",95:"Phaser Level",96:"Data Button increment",97:"Data Button decrement",98:"Non-registered Parameter (fine)",99:"Non-registered Parameter (coarse)",100:"Registered Parameter (fine)",101:"Registered Parameter (coarse)",120:"All Sound Off",121:"All Controllers Off",122:"Local Keyboard (on/off)",123:"All Notes Off",124:"Omni Mode Off",125:"Omni Mode On",126:"Mono Operation",127:"Poly Operation"},Qe=function(e){var t=Re(e);return!!t&&t.name.match(new RegExp("Pacer.*","i"))},$e=function(e,t,n){var a,r=[];return function(){clearTimeout(a);var o=arguments[0];o.data[0]===pe?(r.push(o.data),t(r.length),a=setTimeout(function(){a=null,e(r),r=[]},n)):console.log("non sysex message ignored")}};function et(e,t){return"number"===typeof t?"0x"+b(t):t}function tt(e){return null===e?null:[pe].concat(Object(g.a)(A),Object(g.a)(e),[me])}var nt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={output:null,data:null,messages:[{name:"read current preset",message:xe(0),bytesExpected:189},{name:"read preset A1",message:xe(1),bytesExpected:189},{name:"read stompswitch #1 of preset #5",message:Pe(5,13),bytesExpected:7},{name:"read all presets (takes some time)",message:ke(),bytesExpected:4536}],customMessage:""},n.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),a=void 0===t?null:t,r=e.bytesExpected,o=void 0===r?-1:r,c=e.bytesReceived,s=void 0===c?-1:c;setTimeout(function(){return n.props.onBusy({busy:!1})},2e4),n.props.onBusy({busy:!0,busyMessage:a,bytesExpected:o,bytesReceived:s})},n.handleMidiInputEvent=$e(function(e){console.log("total bytes received = ".concat(e.length)),n.setState(Object(_e.a)(function(t){var n=!0,a=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value;je(s)?t.data=Oe(t.data||{},we(s)):console.log("MIDI message is not a sysex message")}}catch(l){a=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}})),n.props.onBusy({busy:!1})},function(e){n.props.onBusy({busy:!0,bytesReceived:e})},1e3),n.onOutputConnection=function(e){console.log("onOutputConnection"),n.setState(Object(_e.a)(function(t){t.output=e}))},n.onOutputDisconnection=function(e){console.log("onOutputDisconnection"),n.setState(Object(_e.a)(function(e){e.output=null}))},n.sendSysex=function(e){if(n.state.output){var t=Be(n.state.output);t?(n.showBusy(),n.setState({data:null},function(){return t.sendSysex(A,e)})):console.warn("send: output ".concat(n.state.output," not found"))}else console.warn("no output enabled to send the message")},n.updateCustomMessage=function(e){var t=(e.target.value.toUpperCase().match(/[0-9A-F ]+/g)||[]).join("");n.setState({customMessage:t})},n.getCustomMessageData=function(){if(n.state.customMessage&&""!==n.state.customMessage){var e=C(n.state.customMessage,/ /g);if(e){var t=Array.from(e);if(t&&t.length>0)return t.push(Ce(t)),[B].concat(Object(g.a)(e))}}return null},n.sendCustomMessage=function(){var e=n.getCustomMessageData();e&&e.length>0&&(n.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:-1}),n.sendSysex(e))},n.sendMessage=function(e){n.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:e.bytesExpected}),n.sendSysex(e.message)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this,t=this.state,n=t.data,a=t.messages,o=t.customMessage,c=Ce(C(o,/ /g)),s="",l=(o.toUpperCase().match(/[0-9A-F]+/g)||[]).join(""),i=0;i<l.length;i++)i>0&&i%2===0&&(s+=" "),s+=l[i];var u=tt(this.getCustomMessageData())?JSON.stringify(we(Uint8Array.from(tt(this.getCustomMessageData()))),et,4):"";return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(ze,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(Ke,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Test messages:"),r.a.createElement("div",{className:"content-row-content-content"},a.map(function(t,n){return r.a.createElement("div",{key:n,className:"send-message"},r.a.createElement("button",{onClick:function(){return e.sendMessage(t)}},"send"),r.a.createElement("span",{className:"code light"},O(A.concat(t.message.slice(0,1)))," "),r.a.createElement("span",{className:"code"},O(t.message.slice(1,-1))," "),r.a.createElement("span",{className:"code light"}," ",O(t.message.slice(-1))),r.a.createElement("span",{className:"message-name"}," ",t.name))}))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Custom message:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"send-message"},r.a.createElement("button",{onClick:this.sendCustomMessage,disabled:l.length%2!==0},"send"),r.a.createElement("span",{className:"code light"},O(A)," ",O(B)," "),r.a.createElement("input",{type:"text",className:"code",size:"80",value:o,placeholder:"hex digits only",onChange:this.updateCustomMessage}),r.a.createElement("span",{className:"code light"}," ",b(c))),r.a.createElement("div",{className:"custom-message code"},r.a.createElement("span",{className:"code light"},O(A)," ",O(B))," ",s," ",r.a.createElement("span",{className:"code light"},b(c))),r.a.createElement("div",{className:"debug"},u?r.a.createElement("pre",null,u):r.a.createElement("div",null,"Invalid message. Send at your own risk.")))),r.a.createElement("div",{className:"content-row-content"},r.a.createElement("h2",null,"Response:"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"message code"},r.a.createElement(Ye,{data:n})))),r.a.createElement("div",{className:"content-row-content"})))}}]),t}(a.Component),at=n(9),rt=n.n(at),ot=n(14),ct=(n(49),n(51),function(e){var t=e.id,n=e.index,a=e.hasData,o=e.name,c=e.selected,s=e.onClick,l="selector";return c&&(l+=" selected"),!c&&a&&(l+=" loaded"),r.a.createElement("div",{className:l,onClick:function(){return s(n)}},r.a.createElement("span",{className:"preset-id"},t)," ",r.a.createElement("span",{className:"preset-name"},o))}),st=function(e){var t=e.data,n=e.currentPreset,o=e.onClick;return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"preset-selectors"},r.a.createElement(ct,{id:"CUR",index:0,name:"",selected:0===n,onClick:o,key:0}),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),["A","B","C","D"].map(function(e){return r.a.createElement(a.Fragment,{key:e},Array.from(Array(6).keys()).map(function(a){var c,s=e+(a+1),l=6*((c=s).charCodeAt(0)-65)+parseInt(c[1],10),i=t&&t[F]&&t[F][l],u=i?t[F][l].name:"";return r.a.createElement(ct,{id:s,index:l,hasData:i,name:u,selected:l===n,onClick:o,key:l})}))})))},lt=(n(53),function(e){var t=e.name,n=e.id,a=e.selected,o=e.onClick;return r.a.createElement("div",{className:a?"selector selected":"selector loaded",onClick:function(){return o(n)}},r.a.createElement("div",{className:"name"},t))}),it=function(e){var t=e.currentControl,n=e.onClick;return r.a.createElement("div",{className:"controls"},ee.map(function(e){return r.a.createElement(lt,{key:e,name:K[e],id:e,selected:e===t,onClick:n})}),te.map(function(e){return r.a.createElement(lt,{key:e,name:K[e],id:e,selected:e===t,onClick:n})}),r.a.createElement("div",{className:"no-control"},"\xa0"),Q.map(function(e){return r.a.createElement(lt,{key:e,name:K[e],id:e,selected:e===t,onClick:n})}),r.a.createElement("div",{className:"no-control"},"\xa0"),$.map(function(e){return r.a.createElement(lt,{key:e,name:K[e],id:e,selected:e===t,onClick:n})}))},ut=(n(55),function(e){var t=e.current_value,n=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return n(e.target.value)}},r.a.createElement("option",{value:"0"},"0"),r.a.createElement("option",{value:"1"},"1"))}),dt=function(e){var t=e.current_value,n=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return n(e.target.value)}},Object.keys(le).map(function(e){return r.a.createElement("option",{key:e,value:e},le[e])}))},pt=function(e){var t=e.current_value,n=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return n(e.target.value)}},r.a.createElement("option",{value:"0"},"default"),r.a.createElement("option",{value:"3"},"top"),r.a.createElement("option",{value:"2"},"middle"),r.a.createElement("option",{value:"1"},"bottom"))},mt=function(e){var t=e.note,n=e.onChange;return r.a.createElement("select",{value:t,onChange:function(e){return n(e.target.value)},className:"notes"},Array.from(Array(127).keys()).map(function(e){var t=Te.a(e,!0);return r.a.createElement("option",{key:e,value:e},t," (",e,")")}))},ft=function(e){var t,n,o,c=e.index,s=e.config,l=e.updateCallback;return s.msg_type===ne?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",c,":"),r.a.createElement("div",null,r.a.createElement("select",{value:s.msg_type,onChange:function(e){return l("msg_type",null,e.target.value)}},Object.keys(re).map(function(e){return r.a.createElement("option",{key:e,value:e},re[e])}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):(67===s.msg_type||68===s.msg_type?(t=r.a.createElement(mt,{note:s.data[0],onChange:function(e){return l("data",0,e)}}),n=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return l("data",1,e.target.value)}}),o=""):(t=r.a.createElement("input",{type:"text",value:s.data[0],onChange:function(e){return l("data",0,e.target.value)}}),n=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return l("data",1,e.target.value)}}),o=r.a.createElement("input",{type:"text",value:s.data[2],onChange:function(e){return l("data",2,e.target.value)}})),r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"step-row-header"},"Step ",c,":"),r.a.createElement("div",null,r.a.createElement("select",{value:s.msg_type,onChange:function(e){return l("msg_type",null,e.target.value)}},oe.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},se[s.msg_type]?se[s.msg_type][0]:"")),r.a.createElement("div",null,n,r.a.createElement("div",{className:"data-help"},se[s.msg_type]?se[s.msg_type][1]:"")),r.a.createElement("div",null,o,r.a.createElement("div",{className:"data-help"},se[s.msg_type]?se[s.msg_type][2]:"")),r.a.createElement("div",null,r.a.createElement("select",{value:s.channel,onChange:function(e){return l("channel",null,e.target.value)}},Array.from(Array(16).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},e)}))),r.a.createElement("div",null,r.a.createElement(dt,{current_value:s.led_inactive_color,onChange:function(e){return l("led_inactive_color",null,e)}})),r.a.createElement("div",null,r.a.createElement(dt,{current_value:s.led_active_color,onChange:function(e){return l("led_active_color",null,e)}})),r.a.createElement("div",null,r.a.createElement(pt,{current_value:s.led_num,onChange:function(e){return l("led_num",null,e)}})),r.a.createElement("div",null,r.a.createElement(ut,{current_value:s.led_midi_ctrl,onChange:function(e){return l("led_midi_ctrl",null,e)}}))))},ht=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onStepUpdate=function(e,t,a,r){n.props.onUpdate(e,t,a,r)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.steps;return r.a.createElement("div",{className:"steps"},r.a.createElement("div",null),r.a.createElement("div",{className:"step-col-header"},"Type"),r.a.createElement("div",{className:"step-col-header"},"Data 1"),r.a.createElement("div",{className:"step-col-header"},"Data 2"),r.a.createElement("div",{className:"step-col-header"},"Data 3"),r.a.createElement("div",{className:"step-col-header"},"MIDI Ch."),r.a.createElement("div",{className:"step-col-header"},"LED Off"),r.a.createElement("div",{className:"step-col-header"},"LED On"),r.a.createElement("div",{className:"step-col-header"},"LED Num"),r.a.createElement("div",{className:"step-col-header"},"LED MIDI"),Object.keys(t).map(function(n){return r.a.createElement(ft,{key:n,index:n,config:t[n],updateCallback:function(t,a,r){return e.onStepUpdate(n,t,a,r)}})}))}}]),t}(a.Component),vt=n(16),gt=(n(24),n(60),function(e){return r.a.createElement("div",{className:"control-mode"},r.a.createElement("span",{className:"step-row-header"},"Control mode:"),r.a.createElement("select",{onChange:function(t){return e.onUpdate(t.target.value)},value:e.mode},Object.keys(ue).map(function(e){return r.a.createElement("option",{key:e,value:e},ue[e])})))}),Et=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onNameUpdate=function(e){n.props.onUpdate(e.target.value.length>5?e.target.value.substr(0,5):e.target.value)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props.name;return r.a.createElement("div",{className:"preset-name"},r.a.createElement("p",null,"The preset name is limited to 5 characters."),r.a.createElement("span",{className:"strong"},"Name:")," ",r.a.createElement("input",{value:e,onChange:this.onNameUpdate,size:8}))}}]),t}(a.Component),yt=function(e,t){return void 0===t.name||null===t.name?null:t.name.length>5?(console.warn("Presets.updateName: name too long: ".concat(t.name)),null):Object(_e.a)(e,function(e){e.data[F][e.presetIndex].name=t.name,e.data[F][e.presetIndex].changed=!0,e.changed=!0,e.updateMessages.hasOwnProperty(e.presetIndex)||(e.updateMessages[e.presetIndex]={}),e.updateMessages[e.presetIndex].hasOwnProperty("name")||(e.updateMessages[e.presetIndex].name={}),e.updateMessages[e.presetIndex].name.dummy=function(e,t){var n=[_,F,e,U,0],a=t[F][e].name;n.push(a.length);for(var r=0;r<a.length;r++)n.push(a.charCodeAt(r));return n.push(Ce(n)),[B.concat(n)]}(e.presetIndex,e.data)})},bt=function(e){var t=e.messages;return r.a.createElement("div",{className:"message-to-send"},Object.getOwnPropertyNames(t).map(function(e,n){return Object.getOwnPropertyNames(t[e]).map(function(a,o){return Object.getOwnPropertyNames(t[e][a]).map(function(c,s){return t[e][a][c].map(function(e,t){return r.a.createElement("div",{key:"".concat(n,"-").concat(o,"-").concat(s,"-").concat(t),className:"code"},O(e))})})})}))};function Ot(e){return void 0!==e&&null!==e&&""!==e}Object(_e.b)(!1);var Ct=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).clearData=function(){n.setState({data:null,updateMessages:{},changed:!1})},n.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),a=void 0===t?null:t,r=e.bytesExpected,o=void 0===r?-1:r,c=e.bytesReceived,s=void 0===c?-1:c;setTimeout(function(){return n.props.onBusy({busy:!1})},2e4),n.props.onBusy({busy:!0,busyMessage:a,bytesExpected:o,bytesReceived:s})},n.handleMidiInputEvent=$e(function(e){n.setState(Object(_e.a)(function(t){var n=!0,a=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value;je(s)?t.data=Oe(t.data||{},we(s)):console.log("MIDI message is not a sysex message",O(s))}}catch(l){a=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}})),n.props.onBusy({busy:!1})},function(e){n.props.onBusy({busy:!0,bytesReceived:e})},1e3),n.onChangeFile=function(e){var t=e.target.files[0];n.readFiles([t])},n.onInputFile=function(e){n.inputOpenFileRef.current.click()},n.onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.setState({data:null,changed:!1,dropZoneActive:!1},function(){n.readFiles(e)})},n.selectPreset=function(e){var t=n.state.data;t&&t[F]&&t[F][e]?n.setState(Object(_e.a)(function(t){t.presetIndex=e})):n.setState(Object(_e.a)(function(t){t.presetIndex=e}),function(){Qe(n.state.output)&&Ot(e)&&n.readPacer(xe(e),de)})},n.selectControl=function(e){Ot(n.state.presetIndex)&&e&&n.setState({controlId:e})},n.updatePresetName=function(e){n.setState(yt(n.state,{name:e}))},n.updateControlStep=function(e,t,a,r,o){var c=parseInt(o,10);n.setState(Object(_e.a)(function(n){"data"===a?n.data[F][n.presetIndex][fe][e].steps[t].data[r]=c:n.data[F][n.presetIndex][fe][e].steps[t][a]=c,"msg_type"===a&&(n.data[F][n.presetIndex][fe][e].steps[t].active=c===ne?0:1),a.startsWith("led_")?n.data[F][n.presetIndex][fe][e].steps[t].led_changed=!0:n.data[F][n.presetIndex][fe][e].steps[t].changed=!0,n.changed=!0,n.updateMessages.hasOwnProperty(n.presetIndex)||(n.updateMessages[n.presetIndex]={}),n.updateMessages[n.presetIndex].hasOwnProperty(fe)||(n.updateMessages[n.presetIndex][fe]={}),n.updateMessages[n.presetIndex][fe][e]=Ie(n.presetIndex,e,n.data)}))},n.updateControlMode=function(e,t){var a=parseInt(t,10);n.setState(Object(_e.a)(function(t){t.data[F][t.presetIndex][fe][e].control_mode=a,t.data[F][t.presetIndex][fe][e].control_mode_changed=!0,t.changed=!0,t.updateMessages.hasOwnProperty(t.presetIndex)||(t.updateMessages[t.presetIndex]={}),t.updateMessages[t.presetIndex].hasOwnProperty(fe)||(t.updateMessages[t.presetIndex][fe]={}),t.updateMessages[t.presetIndex][fe][e]=Ie(t.presetIndex,e,t.data)}))},n.copyPresetFrom=function(e,t){var a=n.state,r=a.data,o=a.updateMessages;r&&r[F][e]&&(r[F][t]||(r[F][t]={}),r[F][t].changed=!0,o.hasOwnProperty(t)||(o[t]={}),o[t].hasOwnProperty(fe)||(o[t][fe]={}),X.forEach(function(n){r[F][t][fe][n]=JSON.parse(JSON.stringify(r[F][e][fe][n])),o[t][fe][n]=Ie(t,n,r,!0)}),n.setState({data:r,updateMessages:o,changed:!0}))},n.onInputConnection=function(e){},n.onInputDisconnection=function(e){},n.onOutputConnection=function(e){n.setState(Object(_e.a)(function(t){t.output=e}))},n.onOutputDisconnection=function(e){n.setState(Object(_e.a)(function(e){e.output=null}))},n.sendSysex=function(e){if(n.state.output){var t=Be(n.state.output);t?t.sendSysex(A,e):console.warn("send: output ".concat(n.state.output," not found"))}else console.warn("no output enabled to send the message")},n.readPacer=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"reading Pacer...";n.showBusy({busy:!0,busyMessage:a,bytesReceived:0,bytesExpected:t}),n.sendSysex(e)},n.updatePacer=function(e){n.showBusy({busy:!0,busyMessage:"write Preset..."}),Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyNames(e[t]).forEach(function(a){Object.getOwnPropertyNames(e[t][a]).forEach(function(r){e[t][a][r].forEach(function(e){n.sendSysex(e)})})})}),setTimeout(function(){n.setState({changed:!1,updateMessages:{}},function(){return n.readPacer(xe(n.state.presetIndex),de,"read updated preset")})},1e3)},n.inputOpenFileRef=r.a.createRef(),n.state={output:null,presetIndex:null,controlId:null,changed:!1,updateMessages:{},data:null,dropZoneActive:!1,copyPresetFrom:"-1"},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"readFiles",value:function(){var e=Object(ot.a)(rt.a.mark(function e(t){var n=this;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ot.a)(rt.a.mark(function e(t){var a;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=4;break}console.warn("readFiles: ".concat(t.name,": file too big, ").concat(t.size)),e.next=12;break;case 4:return n.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,je(a=new e.t0(e.t1))?n.setState(Object(_e.a)(function(e){e.data=we(a),1===Object.keys(e.data[F]).length&&(e.presetIndex=parseInt(Object.keys(e.data[F])[0],10))})):console.log("readFiles: not a sysfile",O(a.slice(0,5))),n.props.onBusy({busy:!1});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.output,o=t.presetIndex,c=t.controlId,s=t.data,l=t.changed,i=t.updateMessages,u=t.dropZoneActive,d=!1;return s&&(d=F in s&&o in s[F]&&fe in s[F][o]&&c in s[F][o][fe]&&"steps"in s[F][o][fe][c]&&6===Object.keys(s[F][o][fe][c].steps).length),r.a.createElement(vt.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},u&&r.a.createElement("div",{style:D},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(ze,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(Ke,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent,onInputConnection:this.onInputConnection,onInputDisconnection:this.onInputDisconnection,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"You can click on a preset to only load this specific preset from the Pacer."),r.a.createElement("div",{className:"instruction"},"Or you can use the ad-hoc button to read ALL the presets from the Pacer."),r.a.createElement("div",{className:"instruction"},"You can also load a patch file or send a dump from the Pacer.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Preset:"),r.a.createElement("div",{className:"selectors"},r.a.createElement(st,{data:s,currentPreset:o,onClick:this.selectPreset})),r.a.createElement("div",{className:"preset-buttons"},n&&r.a.createElement("button",{onClick:function(){return e.readPacer(ke(),4536)}},"Read all presets from Pacer"),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load preset(s) from file"),r.a.createElement("button",{onClick:this.clearData},"CLEAR")),s&&s[F][o]&&r.a.createElement(Et,{name:s[F][o].name,onUpdate:function(t){return e.updatePresetName(t)}})),r.a.createElement("div",{className:"content-row-content"},r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Controls"),Ot(o)&&r.a.createElement(it,{currentControl:c,onClick:this.selectControl}),s&&o in s[F]&&Object.keys(s[F]).length>1&&r.a.createElement(a.Fragment,null,"(experimental) ",r.a.createElement("button",{onClick:function(){return e.copyPresetFrom(e.state.copyPresetFrom,o)}},"copy")," from preset ",r.a.createElement("select",{value:this.state.copyPresetFrom,onChange:function(t){return e.setState({copyPresetFrom:t.target.value})}},r.a.createElement("option",{value:""},"-"),Object.keys(s[F]).map(function(e,t){return s[F][e]?r.a.createElement("option",{key:t,value:e},Fe(e)," ",s[F][e].name):null}))," ",r.a.createElement("span",{className:"small"},"(copy the configuration for the footswitches A..D and 1..6 only)")),d&&r.a.createElement(a.Fragment,null,r.a.createElement(ht,{controlId:c,steps:s[F][o][fe][c].steps,onUpdate:function(t,n,a,r){return e.updateControlStep(c,t,n,a,r)}}),r.a.createElement(gt,{controlId:c,mode:s[F][o][fe][c].control_mode,onUpdate:function(t){return e.updateControlMode(c,t)}})),!Ot(o)&&r.a.createElement("div",{className:"please"},"Please first select a preset."))),l&&Qe(n)&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Send the updated config to the Pacer:"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.updatePacer(i)}},"Update Pacer")))),this.props.debug&&l&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"debug"},r.a.createElement("h4",null,"[Debug] Update messages to send:"),r.a.createElement(bt,{messages:i}),r.a.createElement("div",{className:"dump code"}))))))}}]),t}(a.Component),jt=n(29),Nt=(n(62),40),wt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={messages:[]},n.handleMidiInputEvent=function(e){n.setState(Object(_e.a)(function(t){t.messages.unshift(e.data)>Nt&&t.messages.pop()}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(ze,{only:".*",autoConnect:".*",portsRenderer:function(e,t){return r.a.createElement(Ke,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer or any other MIDI device to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",null,r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"The messages are displayed in reverse chronological order (the most recent on top). Only the last 40 messages are displayed.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"MIDI messages"),r.a.createElement("div",{className:"content-row-content-content"},r.a.createElement("div",{className:"messages"},this.state.messages.map(function(e,t){var n=Object(jt.a)(e),a="",o="";switch(n.messageCode){case 128:case 144:a=Te.a(n.key),o="velocity: ".concat(n.velocity);break;case 160:break;case 176:a=Xe[n.controlNumber],o=n.controlValue;break;case 192:a="program: ".concat(n.program),o="";break;case 208:break;case 224:a="bend: ".concat(n.pitchBend),o="multiplier: ".concat(n.pitchBendMultiplier)}return r.a.createElement("div",{key:t},r.a.createElement("span",{className:"code"},"[",O(e),"]"),r.a.createElement("span",{className:"msg-channel"},"Channel ",n.channel),r.a.createElement("span",{className:"msg-name"},qe[n.messageCode]),r.a.createElement("span",{className:"msg-data"},a),r.a.createElement("span",{className:"msg-data"},o))})))))))}}]),t}(a.Component),kt=(n(64),function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("div",{className:"gh"},r.a.createElement("a",{href:"https://github.com/francoisgeorgy/pacer-editor",target:"_blank",rel:"noopener noreferrer"},"Source code available on GitHub")),r.a.createElement("div",null,r.a.createElement("p",null,"This web site is not endorsed by, directly affiliated with, maintained, or sponsored by Nektar Technology. This web site is published under ",r.a.createElement("a",{href:"https://www.gnu.org/licenses/gpl-3.0.en.html",target:"_blank",rel:"noopener noreferrer"},"GNU General Public License v3"),".")))}),xt=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"doc",style:{marginTop:"16px"}},"Sorry, this feature is not implemented yet."))}}]),t}(a.Component),Pt=(n(66),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:null},n.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),a=void 0===t?null:t,r=e.bytesExpected,o=void 0===r?-1:r,c=e.bytesReceived,s=void 0===c?-1:c;setTimeout(function(){return n.props.onBusy({busy:!1})},2e4),n.props.onBusy({busy:!0,busyMessage:a,bytesExpected:o,bytesReceived:s})},n.onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.setState({data:null,dropZoneActive:!1},function(){n.readFiles(e)})},n.handleMidiInputEvent=function(e){je(e.data)?n.setState(Object(_e.a)(function(t){t.data=Oe(t.data||{},we(e.data))})):console.log("MIDI message is not a sysex message")},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"readFiles",value:function(){var e=Object(ot.a)(rt.a.mark(function e(t){var n=this;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ot.a)(rt.a.mark(function e(t){var a;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>5242880)){e.next=4;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),e.next=12;break;case 4:return n.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,je(a=new e.t0(e.t1))?n.setState(Object(_e.a)(function(e){e.data=Oe(e.data||{},we(a)),n.props.onBusy(!1)})):console.log("readFiles: not a sysfile",O(a.slice(0,5))),n.props.onBusy({busy:!1});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.data,n=e.dropZoneActive;return r.a.createElement(vt.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},n&&r.a.createElement("div",{style:{position:"absolute",top:0,right:0,bottom:0,left:0,paddingTop:"1rem",background:"rgba(0,0,0,0.4)",textAlign:"center",color:"#fff",fontSize:"4rem"}},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(ze,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(Ke,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent,className:""},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"Send a dump from your Pacer or",r.a.createElement("br",null),"drag & drop a patch file here.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement(Ye,{data:t})))))}}]),t}(a.Component)),It=(n(68),function(e){var t=e.note,n=e.onChange;return r.a.createElement("select",{onChange:function(e){return n(e.target.value)},value:t},Array.from(Array(127).keys()).map(function(e){var t=Te.a(e,!0);return r.a.createElement("option",{key:e,value:e},t)}))}),St=function(e){var t,n,o,c=e.index,s=e.config,l=e.updateCallback;return s.msg_type===ne?r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"message ",c,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return l("msg_type",null,e.target.value)},value:s.msg_type},ce.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null),r.a.createElement("div",null)):(67===s.msg_type?(t=r.a.createElement(It,{note:s.data[0],onChange:function(e){return l("data",0,e)}}),n=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return l("data",1,e.target.value)}}),o=""):(t=r.a.createElement("input",{type:"text",value:s.data[0],onChange:function(e){return l("data",0,e.target.value)}}),n=r.a.createElement("input",{type:"text",value:s.data[1],onChange:function(e){return l("data",1,e.target.value)}}),o=r.a.createElement("input",{type:"text",value:s.data[2],onChange:function(e){return l("data",2,e.target.value)}})),r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"setting-row-header"},"Setting ",c,":"),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return l("msg_type",null,e.target.value)},value:s.msg_type},ce.map(function(e){return r.a.createElement("option",{key:e.key,value:e.key},e.value)}))),r.a.createElement("div",null,t,r.a.createElement("div",{className:"data-help"},se[s.msg_type][0])),r.a.createElement("div",null,n,r.a.createElement("div",{className:"data-help"},se[s.msg_type][1])),r.a.createElement("div",null,o,r.a.createElement("div",{className:"data-help"},se[s.msg_type][2])),r.a.createElement("div",null,r.a.createElement("select",{onChange:function(e){return l("channel",null,e.target.value)},value:s.channel},Array.from(Array(16).keys()).map(function(e){return r.a.createElement("option",{key:e,value:e},e)})))))},Mt=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).onSettingUpdate=function(e,t,a,r){n.props.onUpdate(e,t,a,r)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.props.settings;return r.a.createElement("div",{className:"settings"},r.a.createElement("div",null),r.a.createElement("div",{className:"setting-col-header"},"Type"),r.a.createElement("div",{className:"setting-col-header"},"Data 1"),r.a.createElement("div",{className:"setting-col-header"},"Data 2"),r.a.createElement("div",{className:"setting-col-header"},"Data 3"),r.a.createElement("div",{className:"setting-col-header"},"MIDI Ch."),Object.keys(t).map(function(n){return r.a.createElement(St,{key:n,index:n,config:t[n],updateCallback:function(t,a,r){return e.onSettingUpdate(n,t,a,r)}})}))}}]),t}(a.Component);var Dt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).clearData=function(){n.setState({data:null,updateMessages:{},changed:!1})},n.showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),a=void 0===t?null:t,r=e.bytesExpected,o=void 0===r?-1:r,c=e.bytesReceived,s=void 0===c?-1:c;setTimeout(function(){return n.props.onBusy({busy:!1})},2e4),n.props.onBusy({busy:!0,busyMessage:a,bytesExpected:o,bytesReceived:s})},n.handleMidiInputEvent=$e(function(e){n.setState(Object(_e.a)(function(t){var n=!0,a=!1,r=void 0;try{for(var o,c=e[Symbol.iterator]();!(n=(o=c.next()).done);n=!0){var s=o.value;je(s)?t.data=Oe(t.data||{},we(s)):console.log("MIDI message is not a sysex message")}}catch(l){a=!0,r=l}finally{try{n||null==c.return||c.return()}finally{if(a)throw r}}})),n.props.onBusy({busy:!1})},function(e){n.props.onBusy({busy:!0,bytesReceived:e})},1e3),n.onChangeFile=function(e){console.log("onChangeFile",e);var t=e.target.files[0];console.log(t),n.readFiles([t])},n.onInputFile=function(e){console.log("onInputFile",e),n.inputOpenFileRef.current.click()},n.onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.setState({data:null,changed:!1,dropZoneActive:!1},function(){n.readFiles(e)})},n.selectPreset=function(e){var t=n.state.data;t&&t[F]&&t[F][e]?n.setState(Object(_e.a)(function(t){t.presetIndex=e})):n.setState(Object(_e.a)(function(t){t.presetIndex=e}),function(){var t;Qe(n.state.output)&&(void 0!==(t=e)&&null!==t&&""!==t)&&n.readPacer(xe(e),de)})},n.updateMidiSettings=function(e,t,a,r){var o=parseInt(r,10);n.setState(Object(_e.a)(function(n){"data"===t?n.data[F][n.presetIndex].midi[e].data[a]=o:n.data[F][n.presetIndex].midi[e][t]=o,"msg_type"===t&&(n.data[F][n.presetIndex].midi[e].active=o===ne?0:1),n.data[F][n.presetIndex].midi[e].changed=!0,n.changed=!0,n.updateMessages.hasOwnProperty(n.presetIndex)||(n.updateMessages[n.presetIndex]={}),n.updateMessages[n.presetIndex].hasOwnProperty("midi")||(n.updateMessages[n.presetIndex].midi={}),n.updateMessages[n.presetIndex].midi.dummy=Se(n.presetIndex,n.data)}))},n.updatePresetName=function(e){n.setState(yt(n.state,{name:e}))},n.onInputConnection=function(e){},n.onInputDisconnection=function(e){},n.onOutputConnection=function(e){console.log("onOutputConnection"),n.setState(Object(_e.a)(function(t){t.output=e}))},n.onOutputDisconnection=function(e){console.log("onOutputDisconnection"),n.setState(Object(_e.a)(function(e){e.output=null}))},n.sendSysex=function(e){if(n.state.output){var t=Be(n.state.output);t?t.sendSysex(A,e):console.warn("send: output ".concat(n.state.output," not found"))}else console.warn("no output enabled to send the message")},n.readPacer=function(e,t){n.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t}),n.sendSysex(e)},n.updatePacer=function(e){n.showBusy({busy:!0,busyMessage:"write Preset..."}),Object.getOwnPropertyNames(e).forEach(function(t){Object.getOwnPropertyNames(e[t]).forEach(function(a){Object.getOwnPropertyNames(e[t][a]).forEach(function(r){e[t][a][r].forEach(function(e){n.sendSysex(e)})})})}),setTimeout(function(){n.setState({changed:!1,updateMessages:{}},function(){return n.readPacer(xe(n.state.presetIndex),de,"read updated preset")})},1e3)},n.inputOpenFileRef=r.a.createRef(),n.state={output:null,presetIndex:null,changed:!1,updateMessages:{},data:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"readFiles",value:function(){var e=Object(ot.a)(rt.a.mark(function e(t){var n=this;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ot.a)(rt.a.mark(function e(t){var a;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=4;break}console.warn("readFiles: ".concat(t.name,": file too big, ").concat(t.size)),e.next=12;break;case 4:return n.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=8,new Response(t).arrayBuffer();case 8:e.t1=e.sent,je(a=new e.t0(e.t1))?n.setState(Object(_e.a)(function(e){e.data=we(a),1===Object.keys(e.data[F]).length&&(e.presetIndex=parseInt(Object.keys(e.data[F])[0],10))})):console.log("readFiles: not a sysfile",O(a.slice(0,5))),n.props.onBusy({busy:!1});case 12:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.output,o=t.presetIndex,c=t.data,s=t.changed,l=t.updateMessages,i=t.dropZoneActive,u=!1;return c&&(u=F in c&&o in c[F]&&"midi"in c[F][o]&&16===Object.keys(c[F][o].midi).length),r.a.createElement(vt.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},i&&r.a.createElement("div",{style:D},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(ze,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(Ke,{groupedPorts:e,clickHandler:t})},messageType:"sysex",onMidiInputEvent:this.handleMidiInputEvent,onInputConnection:this.onInputConnection,onInputDisconnection:this.onInputDisconnection,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},"You can click on a preset to only load this specific preset from the Pacer."),r.a.createElement("div",{className:"instruction"},"Or you can use the ad-hoc button to read ALL the presets from the Pacer."),r.a.createElement("div",{className:"instruction"},"You can also load a patch file or send a dump from the Pacer.")),r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("h2",null,"Preset:"),r.a.createElement("div",{className:"selectors"},r.a.createElement(st,{data:c,currentPreset:o,onClick:this.selectPreset})),r.a.createElement("div",{className:"preset-buttons"},n&&r.a.createElement("button",{className:"space-right",onClick:function(){return e.readPacer(ke(),4536)}},"Read all presets from Pacer"),r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load preset(s) from file"),r.a.createElement("button",{onClick:this.clearData},"CLEAR")),c&&c[F][o]&&r.a.createElement(Et,{name:c[F][o].name,onUpdate:function(t){return e.updatePresetName(t)}})),u&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Preset MIDI settings:"),r.a.createElement(Mt,{settings:c[F][o].midi,onUpdate:function(t,n,a,r){return e.updateMidiSettings(t,n,a,r)}}))),s&&Qe(n)&&r.a.createElement("div",{className:"content-row-content"},r.a.createElement(a.Fragment,null,r.a.createElement("h2",null,"Send the updated config to the Pacer:"),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"update",onClick:function(){return e.updatePacer(l)}},"Update Pacer")))),this.props.debug&&u&&r.a.createElement("div",{className:"content-row-content first"},r.a.createElement("div",{className:"debug"},r.a.createElement("h4",null,"[Debug] Update messages to send:"),r.a.createElement(bt,{messages:l}))))))}}]),t}(a.Component),Rt=n(27),At=(n(76),function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).handleClick=function(e){var t=window.URL.createObjectURL(new Blob([n.props.data],{type:"application/octet-stream"})),a=n.props.filename;if(n.props.addTimestamp){var r=new Date;a+="."+(r.getUTCFullYear()+"-"+("0"+(r.getUTCMonth()+1)).slice(-2)+"-"+("0"+r.getUTCDate()).slice(-2)+"-"+("0"+r.getUTCHours()).slice(-2)+("0"+r.getUTCMinutes()).slice(-2)+("0"+r.getUTCSeconds()).slice(-2))}var o=document.createElement("a");o.download=a+".syx",o.style.display="none",o.href=t,document.body.appendChild(o),o.click(),document.body.removeChild(o),setTimeout(function(){return window.URL.revokeObjectURL(t)},1e3)},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("button",{onClick:this.handleClick,className:this.props.className},this.props.label)}}]),t}(a.Component));var Bt=function(e){function t(e){var n;return Object(s.a)(this,t),(n=Object(i.a)(this,Object(u.a)(t).call(this,e))).showBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(e.busy,e.busyMessage),a=void 0===t?null:t,r=e.bytesExpected,o=void 0===r?-1:r,c=e.bytesReceived,s=void 0===c?-1:c;setTimeout(function(){return n.props.onBusy({busy:!1})},2e4),n.props.onBusy({busy:!0,busyMessage:a,bytesExpected:o,bytesReceived:s})},n.hideBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;e<1?n.props.onBusy({busy:!1}):setTimeout(function(){return n.props.onBusy({busy:!1})},e)},n.handleMidiInputEvent=function(e,t,n){var a,r=[];return function(){clearTimeout(a);var o=arguments[0];r.push(o.data),t(r.length),a=setTimeout(function(){a=null,e(r),r=[]},n)}}(function(e){var t=e.reduce(function(e,t){return e+t.length},0);n.setState(Object(_e.a)(function(n){n.bytes=new Uint8Array(t);var a=0,r=!0,o=!1,c=void 0;try{for(var s,l=e[Symbol.iterator]();!(r=(s=l.next()).done);r=!0){var i=s.value;n.bytes.set(i,a),a+=i.length,je(i)?n.data=Oe(n.data||{},we(i)):console.log("MIDI message is not a sysex message")}}catch(u){o=!0,c=u}finally{try{r||null==l.return||l.return()}finally{if(o)throw c}}})),n.hideBusy()},function(e){n.props.onBusy({busy:!0,bytesReceived:e})},1e3),n.onChangeFile=function(e){var t=e.target.files[0];n.readFiles([t])},n.onInputFile=function(e){n.inputOpenFileRef.current.click()},n.onDragEnter=function(){n.setState({dropZoneActive:!0})},n.onDragLeave=function(){n.setState({dropZoneActive:!1})},n.onDrop=function(e){n.setState({data:null,changed:!1,dropZoneActive:!1},function(){n.readFiles(e)})},n.onOutputConnection=function(e){n.setState(Object(_e.a)(function(t){t.output=e}))},n.onOutputDisconnection=function(e){n.setState(Object(_e.a)(function(e){e.output=null}))},n.sendSysex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(n.state.output){var a=Be(n.state.output);a?(t>0&&n.showBusy({busy:!0,busyMessage:"receiving data...",bytesReceived:0,bytesExpected:t}),n.setState({data:null},function(){return a.sendSysex(A,e)})):console.warn("send: output ".concat(n.state.output," not found"))}else console.warn("no output enabled to send the message")},n.sendPatch=function(){if(n.state.output){var e=Be(n.state.output);e?(n.showBusy({busy:!0,busyMessage:"sending patch..."}),function(e,t){if(null===e)return[];for(var n=[],a=0;!((a=e.indexOf(pe,a))<0);){a++;var r=e.indexOf(me,a),o=Array.from(e.slice(a,a+3)).map(function(e){return b(e)}).join(" ");if(o!==y.NEKTAR_TECHNOLOGY_INC)return console.log("parseSysexDump: dump does not contain a Nektar Pacer patch",a,r,o,"-",O(e)),null;if(127!==e[a+3])return console.warn("parseSysexDump: invalid byte after manufacturer id: ".concat(e[a+1+3])),null;n.push(e.slice(a+3,r))}return n}(Array.from(n.state.bytes)).forEach(function(t){e.sendSysex(A,t)}),n.hideBusy(1e3)):console.warn("send: output ".concat(n.state.output," not found"))}else console.warn("no output enabled to send the message")},n.inputOpenFileRef=r.a.createRef(),n.state={output:null,data:null,bytes:null,dropZoneActive:!1,status:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"readFiles",value:function(){var e=Object(ot.a)(rt.a.mark(function e(t){var n=this;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(){var e=Object(ot.a)(rt.a.mark(function e(t){var a;return rt.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t.size>204800)){e.next=5;break}console.warn("".concat(t.name,": file too big, ").concat(t.size)),n.setState(Object(_e.a)(function(e){e.status={severity:"error",message:"The file ".concat(t.name," is too big.")},n.props.onBusy({busy:!1})})),e.next=13;break;case 5:return n.showBusy({busy:!0,busyMessage:"loading file..."}),e.t0=Uint8Array,e.next=9,new Response(t).arrayBuffer();case 9:e.t1=e.sent,je(a=new e.t0(e.t1))?n.setState(Object(_e.a)(function(e){e.bytes=a,e.data=Oe(e.data||{},we(a)),e.status={severity:"info",message:"Patch file loaded: ".concat(t.name)}})):n.setState(Object(_e.a)(function(e){e.status={severity:"error",message:"The file ".concat(t.name," does not contain a patch (is not a binary sysex file)")}})),n.props.onBusy({busy:!1});case 13:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.status,a=t.bytes,o=t.data,c=t.output,s=t.dropZoneActive;return r.a.createElement(vt.a,{disableClick:!0,style:{position:"relative"},onDrop:this.onDrop,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},s&&r.a.createElement("div",{style:D},"Drop sysex file..."),r.a.createElement("div",{className:"wrapper"},r.a.createElement("div",{className:"subheader"},r.a.createElement(ze,{only:".*",autoConnect:"Pacer.*",portsRenderer:function(e,t){return r.a.createElement(Ke,{groupedPorts:e,clickHandler:t})},onMidiInputEvent:this.handleMidiInputEvent,onOutputConnection:this.onOutputConnection,onOutputDisconnection:this.onOutputDisconnection,className:""},r.a.createElement("div",{className:"no-midi"},"Please connect your Pacer to your computer."))),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"content-row-content"},r.a.createElement("div",{className:"instructions"},r.a.createElement("div",{className:"instruction"},'Presets marked "no data" are ignored. They will NOT erase the preset config in your Pacer.'),r.a.createElement("div",{className:"instruction"},"A patch is a full dump of the Pacer.")),r.a.createElement("h2",null,"Patch content:"),r.a.createElement("div",{className:"patch-content"},Array.from(Array(25).keys()).map(function(e){var t=Fe(e),n=o&&o[F]&&o[F][e],a=n?o[F][e].name:"";return 0===e?null:r.a.createElement("div",{key:e},r.a.createElement("div",null,t),n?r.a.createElement("div",null,a):r.a.createElement("div",{className:"placeholder"},"no data"))})),n&&r.a.createElement("div",{className:"status ".concat(n.severity)},n.message),r.a.createElement("div",{className:"patch-actions"},r.a.createElement("div",null,r.a.createElement("input",{ref:this.inputOpenFileRef,type:"file",style:{display:"none"},onChange:this.onChangeFile}),r.a.createElement("button",{onClick:this.onInputFile},"Load patch from file")),r.a.createElement("div",null,Qe(c)&&"or"),r.a.createElement("div",null,Qe(c)&&r.a.createElement("button",{onClick:function(){return e.sendSysex(ke(),4536)}},"Read patch from Pacer")),r.a.createElement("div",null,o&&r.a.createElement(At,{data:a,filename:"pacer-patch",addTimestamp:!0,label:"Save patch to file"})),r.a.createElement("div",null,o&&Qe(c)&&"or"),r.a.createElement("div",null,o&&Qe(c)&&r.a.createElement("button",{onClick:function(){return e.sendPatch()}},"Send patch to Pacer")))))))}}]),t}(a.Component),_t=function(e){var t=e.label,n=e.to,a=e.activeOnlyWhenExact;return r.a.createElement(p.a,{path:n,exact:a,children:function(e){var a=e.match;return r.a.createElement("div",{className:a?"header-link active":"header-link"},r.a.createElement(m.a,{to:n},t))}})},Tt=function(){return r.a.createElement("div",{className:"content home"},r.a.createElement("div",{className:"error"},"Invalid URL"))},Ft=function(e){function t(){var e,n;Object(s.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={busy:!1,busyMessage:"please wait",bytesExpected:-1,progress:-1},n.onBusy=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.busy,a=void 0!==t&&t,r=e.busyMessage,o=void 0===r?null:r,c=e.bytesExpected,s=void 0===c?-1:c,l=e.bytesReceived,i=void 0===l?-1:l,u=a!==n.state.busy;u=(u=u||null!==o&&o!==n.state.busyMessage)||s>0&&s!==n.state.bytesExpected;var d=-1;n.state.bytesExpected>0&&i>0&&(d=5*Math.round(i/n.state.bytesExpected*100/5),u=u||d>=0&&d!==n.state.progress),u&&n.setState(Object(_e.a)(function(e){e.busy!==a&&(e.busy=a),null!==o&&(e.busyMessage=o),s>0&&s!==e.bytesExpected&&(e.bytesExpected=s),!1===a?(e.bytesExpected=-1,d=-1):(s>0&&(e.bytesExpected=s),e.progress!==d&&(e.progress=d))}))},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.busy,a=t.busyMessage,o=t.progress,c=Rt.parse(window.location.search),s=!!c.debug&&"1"===c.debug;return r.a.createElement(f.a,null,r.a.createElement("div",{className:"app"},r.a.createElement("header",{className:"header"},r.a.createElement(_t,{activeOnlyWhenExact:!0,to:"/",label:"Home"}),r.a.createElement(_t,{to:"/preset",label:"Preset Controls"}),r.a.createElement(_t,{to:"/presetmidi",label:"Preset Name & MIDI"}),r.a.createElement(_t,{to:"/global",label:"Global config"}),r.a.createElement(_t,{to:"/patch",label:"Patch"}),r.a.createElement(_t,{to:"/monitor",label:"MIDI monitor"}),r.a.createElement(_t,{to:"/dumpdecoder",label:"Dump decoder"}),s&&r.a.createElement(_t,{to:"/debug",label:"Debug"}),!n&&r.a.createElement("div",{className:"spacer"}," "),n&&r.a.createElement("div",{className:"busy"},a,o>=0&&r.a.createElement("div",null,o," %")),r.a.createElement("div",{className:"header-app-name"},"Pacer editor 0.7.5")),r.a.createElement(h.a,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(v,null)}}),r.a.createElement(p.a,{path:"/preset",render:function(t){return r.a.createElement(Ct,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(p.a,{path:"/presetmidi",render:function(t){return r.a.createElement(Dt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(p.a,{path:"/global",render:function(t){return r.a.createElement(xt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(p.a,{path:"/patch",render:function(t){return r.a.createElement(Bt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(p.a,{path:"/monitor",render:function(t){return r.a.createElement(wt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(p.a,{path:"/dumpdecoder",render:function(t){return r.a.createElement(Pt,{onBusy:e.onBusy,debug:s})}}),s&&r.a.createElement(p.a,{path:"/debug",render:function(t){return r.a.createElement(nt,{onBusy:e.onBusy,debug:s})}}),r.a.createElement(p.a,{component:Tt})),r.a.createElement(kt,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Lt(){}console.log=Lt,console.warn=Lt,console.error=Lt,c.a.render(r.a.createElement(Ft,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[30,2,1]]]);
//# sourceMappingURL=main.d6f71533.chunk.js.map